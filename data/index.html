<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
	<meta name="apple-mobile-web-app-capable" content="yes" />
	<meta name="apple-mobile-web-app-title" content="WlanThermo">
	<meta name="apple-mobile-web-app-status-bar-style" content="black" />
	<link rel="apple-touch-icon-precomposed" href="https://raw.githubusercontent.com/WLANThermo-nano/WLANThermo_nano_Logos/master/apple-touch-icon-180x180-precomposed.png" >
	<!-- <link rel="apple-touch-startup-image" href="startupimagename.png" > -->
    <title>WLANThermo - Nano</title>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.2/Chart.bundle.min.js"></script>
	 <style>
@font-face {
  font-family: 'nano';
  src:
    url('nano.ttf?57g8q9') format('truetype');
  font-weight: normal;
  font-style: normal;
}

[class^="icon-"], [class*=" icon-"] {
  /* use !important to prevent issues with browser extensions that change fonts */
  font-family: 'nano' !important;
  speak: none;
  font-style: normal;
  font-weight: normal;
  font-variant: normal;
  text-transform: none;
  line-height: 1;
  /* Better Font Rendering =========== */
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

.icon-uniF2C7:before {content: "\f2c7";}
.icon-uniF2C8:before {content: "\f2c8";}
.icon-uniF2C9:before {content: "\f2c9";}
.icon-uniF2CA:before {content: "\f2ca";}
.icon-uniF2CB:before {content: "\f2cb";}
.icon-uniF2CB:before,.icon-uniF2CA:before,.icon-uniF2C9:before,.icon-uniF2C8:before,.icon-uniF2C7:before{
  margin-right:4px;
  margin-left:2px;
}
.icon-play:before {
  content: "\f144";
}
.icon-pause:before {content: "\f28b";}
.icon-stop:before {content: "\f28d";}
.icon-Wlan33:before {content: "\e906";}
.icon-Wlan66:before {content: "\e907";}
.icon-Wlan100:before {content: "\e908";}
.icon-arrow_down:before {content: "\e900";}
.icon-arrow_left:before {content: "\e901";}
.icon-arrow_right:before {content: "\e902";}
.icon-arrow_up:before {content: "\e903";}

.icon-temp_down:before {
  content: "\e904";
   margin-right:4px;
}
.icon-temp_up:before {
  content: "\e905";
  margin-right:4px;
}
.icon-pencil:before {content: "\f040";}
.icon-fan:before {content: "\e913";}
.icon-wifi-off:before {content: "\e915";}
.icon-wifi-50:before {content: "\e918";}
.icon-wifi-75:before {content: "\e919";}
.icon-wifi-25:before {content: "\e91a";}
.icon-wifi-100:before {content: "\e914";}
.icon-ic_wifi_lock_black_24px:before {content: "\e916";}
.icon-ok:before {content: "\f00c";}
.icon-remove:before {content: "\f00d";}
.icon-refresh:before {content: "\f021";}
.icon-lock:before {content: "\f023";}

.icon-question_sign:before {
	content: "\f059";
	color:#FFFFFF;
	font-size: 1.17em;
	margin-right:4px;
}

.icon-info_sign:before {content: "\f05a";}
.icon-notification:before {
  content: "\f06a";
  color:#FFFF00;
}
.icon-unlock:before {content: "\f09c";}
.icon-reorder:before {
	content: "\f0c9";
	font-size: 1.17em;
}
.icon-spinner_2:before {content: "\f110";}
.icon-charger:before {content: "\f1e6";}
.icon-battery-100:before {content: "\f240";}
.icon-battery-75:before {content: "\f241";}
.icon-battery-50:before {content: "\f242";}
.icon-battery-25:before {content: "\f243";}
.icon-battery-0:before {
  content: "\f244";
  color: red;
}
.icon-stats-dots:before {content: "\e99b";}
.icon-power-cord:before {content: "\e9b7";}
.icon-eye:before {content: "\e9ce";}
.icon-eye-blocked:before {content: "\e9d1";}
.icon-notification_2:before {content: "\ea08";}
.icon-circle-up:before {content: "\ea41";}
.icon-circle-right:before {content: "\ea42";}
.icon-circle-down:before {content: "\ea43";}
.icon-circle-left:before {content: "\ea44";}
.icon-rotate-100{animation: rotate 2s infinite linear;}
.icon-rotate-75{animation: rotate 3s infinite linear;}
.icon-rotate-50{animation: rotate 4s infinite linear;}
.icon-rotate-25{animation: rotate 5s infinite linear;}

.icon-rotate-25,.icon-rotate-50,.icon-rotate-75,.icon-rotate-100{
  -webkit-transition-delay: 1s; /* Safari */
  transition-delay: 1s;
  display: inline-block;
}

.icon-blinker{animation: blinker 2s linear infinite;}
@keyframes blinker {  
  50% { opacity: 0; }
}

		table { 
			width: 100%;
		}
		.row-Check {
			width: 24px;
			text-align: left;
			padding-left:2px;
		}
		.row-SSID {
			text-align: left;
			padding-left:4px;
			overflow: hidden;
			text-overflow: ellipsis;
			white-space: nowrap;
		}
		.row-Enc {
			width: 24px;
			text-align: right;
			padding-right:4px;
		}
		.row-RSSI {
			width: 24px;
			text-align: right;
			padding-right:4px;
		}	
		.row-link {
			width: 30px;
			text-align: right;
			padding-right:2px;
		}
		
		.wlantable tr {
			cursor: pointer;	 
		}

		.wlantable tr:hover {
			background-color: #333;	 
		}
		
		.pure-button:focus,a:active,a:hover {
			outline:0
		}

		.pure-table,table {
			border-collapse:collapse;
			border-spacing:0
		}

		html {
			font-family:sans-serif;
			-ms-text-size-adjust:100%;
			-webkit-text-size-adjust:100%
		}

		body {
			margin:0
		}

		article,aside,details,figcaption,figure,footer,header,hgroup,main,menu,nav,section,summary {
			display:block
		}

		audio,canvas,progress,video {
			display:inline-block;
			vertical-align:baseline
		}

		audio:not([controls]) {
			display:none;
			height:0
		}

		[hidden],template {
			display:none
		}

		a {
			background-color:transparent
		}

		abbr[title] {
			border-bottom:1px dotted
		}

		b,optgroup,strong {
			font-weight:700
		}

		dfn {
			font-style:italic
		}

		h1 {
			font-size:2em;
			margin:.67em 0
		}

		mark {
			background:#ff0;
			color:#000
		}

		small {
			font-size:80%
		}

		sub,sup {
			font-size:75%;
			line-height:0;
			position:relative;
			vertical-align:baseline
		}

		sup {
			top:-.5em
		}

		sub {
			bottom:-.25em
		}

		img {
			border:0
		}

		svg:not(:root) {
			overflow:hidden
		}

		figure {
			margin:1em 40px
		}

		hr {
			box-sizing:content-box;
			height:0
		}

		pre,textarea {
			overflow:auto
		}

		code,kbd,pre,samp {
			font-family:monospace,monospace;
			font-size:1em
		}

		button,input,optgroup,select,textarea {
			color:#565656;
			font:inherit;
			margin:0
		}

		.pure-button,input {
			line-height:normal
		}

		button {
			overflow:visible
		}

		button,select {
			text-transform:none
		}

		button,html input[type=button],input[type=reset],input[type=submit] {
			-webkit-appearance:button;
			cursor:pointer
		}

		button[disabled],html input[disabled] {
			cursor:default
		}

		button::-moz-focus-inner,input::-moz-focus-inner {
			border:0;
			padding:0
		}

		input[type=checkbox],input[type=radio] {
			box-sizing:border-box;
			padding:0
		}

		input[type=number]::-webkit-inner-spin-button,input[type=number]::-webkit-outer-spin-button {
			height:auto
		}

		input[type=search] {
			-webkit-appearance:textfield;
			box-sizing:content-box
		}

		.pure-button,.pure-form input:not([type]),.pure-menu {
			box-sizing:border-box
		}

		input[type=search]::-webkit-search-cancel-button,input[type=search]::-webkit-search-decoration {
			-webkit-appearance:none
		}

		fieldset {
			border:none;
			margin:0 2px;
			padding:0
		}

		legend,td,th {
			padding:0
		}

		legend {
			border:0
		}

		.hidden,[hidden] {
			display:none!important
		}

		.pure-img {
			max-width:100%;
			height:auto;
			display:block
		}

		.pure-g {
			letter-spacing:-.31em;
			text-rendering:optimizespeed;
			font-family:FreeSans,Arimo,"Droid Sans",Helvetica,Arial,sans-serif;
			display:-webkit-box;
			display:-webkit-flex;
			display:-ms-flexbox;
			display:flex;
			-webkit-flex-flow:row wrap;
			-ms-flex-flow:row wrap;
			flex-flow:row wrap;
			-webkit-align-content:flex-start;
			-ms-flex-line-pack:start;
			align-content:flex-start
		}

		@media all and (-ms-high-contrast:none),(-ms-high-contrast:active) {
			table .pure-g {
				display:block
			}
		}

		.opera-only :-o-prefocus,.pure-g {
			word-spacing:-.43em
		}

		.pure-u,.pure-u-1,.pure-u-1-1,.pure-u-1-2,.pure-u-1-3,.pure-u-1-4 {
			letter-spacing:normal;
			word-spacing:normal;
			vertical-align:top;
			text-rendering:auto;
			display:inline-block;
			zoom:1
		}

		.pure-g [class*=pure-u] {font-family:sans-serif}
		.pure-u-1-4 {width:25%}
		.pure-u-1-3 {width:33.3333%}
		.pure-u-1-2 {width:50%}
		.pure-u-1,.pure-u-1-1 {width:100%}
		
		.pure-button {
			display:inline-block;
			zoom:1;
			white-space:nowrap;
			vertical-align:middle;
			text-align:center;
			cursor:pointer;
			-webkit-user-drag:none;
			-webkit-user-select:none;
			-moz-user-select:none;
			-ms-user-select:none;
			user-select:none
		}

		.pure-button::-moz-focus-inner {
			padding:0;
			border:0
		}

		.pure-button-group {
			letter-spacing:-.31em;
			text-rendering:optimizespeed
		}

		.opera-only :-o-prefocus,.pure-button-group {
			word-spacing:-.43em
		}

		.pure-button {
			font-family:inherit;
			font-size:100%;
			padding:.5em 1em;
			color:#444;
			color:rgba(0,0,0,.8);
			border:1px solid #999;
			border:transparent;
			background-color:#E6E6E6;
			text-decoration:none;
			border-radius:2px
		}

		.pure-button-hover,.pure-button:focus,.pure-button:hover {
			filter:alpha(opacity=90);
			background-image:-webkit-linear-gradient(transparent,rgba(0,0,0,.05) 40%,rgba(0,0,0,.1));
			background-image:linear-gradient(transparent,rgba(0,0,0,.05) 40%,rgba(0,0,0,.1))
		}

		.pure-button-active,.pure-button:active {
			box-shadow:0 0 0 1px rgba(0,0,0,.15) inset,0 0 6px rgba(0,0,0,.2) inset;
			border-color:#000\9
		}

		.pure-button-disabled,.pure-button-disabled:active,.pure-button-disabled:focus,.pure-button-disabled:hover,.pure-button[disabled] {
			border:none;
			background-image:none;
			filter:alpha(opacity=40);
			opacity:.4;
			cursor:not-allowed;
			box-shadow:none;
			pointer-events:none
		}

		.pure-button-hidden {
			display:none
		}

		.pure-button-primary,.pure-button-selected,a.pure-button-primary,a.pure-button-selected {
			background-color:#0078e7;
			color:#fff
		}

		.pure-button-group .pure-button {
			letter-spacing:normal;
			word-spacing:normal;
			vertical-align:top;
			text-rendering:auto;
			margin:0;
			border-radius:0;
			border-right:1px solid #111;
			border-right:1px solid rgba(0,0,0,.2)
		}

		.pure-button-group .pure-button:first-child {
			border-top-left-radius:2px;
			border-bottom-left-radius:2px
		}

		.pure-button-group .pure-button:last-child {
			border-top-right-radius:2px;
			border-bottom-right-radius:2px;
			border-right:none
		}

		.pure-form input[type=password],.pure-form input[type=email],.pure-form input[type=url],.pure-form input[type=date],.pure-form input[type=month],.pure-form input[type=time],.pure-form input[type=datetime],.pure-form input[type=datetime-local],.pure-form input[type=week],.pure-form input[type=tel],.pure-form input[type=color],.pure-form input[type=number],.pure-form input[type=search],.pure-form input[type=text],.pure-form select,.pure-form textarea {
			padding:.5em .6em;
			display:inline-block;
			border:1px solid #ccc;
			box-shadow:inset 0 1px 3px #ddd;
			border-radius:4px;
			vertical-align:middle;
			box-sizing:border-box
		}

		.pure-form input:not([type]) {
			padding:.5em .6em;
			display:inline-block;
			border:1px solid #ccc;
			box-shadow:inset 0 1px 3px #ddd;
			border-radius:4px
		}

		.pure-form input[type=color] {
			padding:.2em .5em
		}

		.pure-form input:not([type]):focus,.pure-form input[type=password]:focus,.pure-form input[type=email]:focus,.pure-form input[type=url]:focus,.pure-form input[type=date]:focus,.pure-form input[type=month]:focus,.pure-form input[type=time]:focus,.pure-form input[type=datetime]:focus,.pure-form input[type=datetime-local]:focus,.pure-form input[type=week]:focus,.pure-form input[type=tel]:focus,.pure-form input[type=color]:focus,.pure-form input[type=number]:focus,.pure-form input[type=search]:focus,.pure-form input[type=text]:focus,.pure-form select:focus,.pure-form textarea:focus {
			outline:0;
			border-color:#129FEA
		}

		.pure-form input[type=file]:focus,.pure-form input[type=checkbox]:focus,.pure-form input[type=radio]:focus {
			outline:#129FEA auto 1px
		}

		.pure-form .pure-checkbox,.pure-form .pure-radio {
			margin:.5em 0;
			display:block
		}

		.pure-form input:not([type])[disabled],.pure-form input[type=password][disabled],.pure-form input[type=email][disabled],.pure-form input[type=url][disabled],.pure-form input[type=date][disabled],.pure-form input[type=month][disabled],.pure-form input[type=time][disabled],.pure-form input[type=datetime][disabled],.pure-form input[type=datetime-local][disabled],.pure-form input[type=week][disabled],.pure-form input[type=tel][disabled],.pure-form input[type=color][disabled],.pure-form input[type=number][disabled],.pure-form input[type=search][disabled],.pure-form input[type=text][disabled],.pure-form select[disabled],.pure-form textarea[disabled] {
			cursor:not-allowed;
			background-color:#eaeded;
			color:#cad2d3
		}

		.pure-form input[readonly],.pure-form select[readonly],.pure-form textarea[readonly] {
			background-color:#eee;
			color:#777;
			border-color:#ccc
		}

		.pure-form input:focus:invalid,.pure-form select:focus:invalid,.pure-form textarea:focus:invalid {
			color:#b94a48;
			border-color:#e9322d
		}

		.pure-form input[type=file]:focus:invalid:focus,.pure-form input[type=checkbox]:focus:invalid:focus,.pure-form input[type=radio]:focus:invalid:focus {
			outline-color:#e9322d
		}

		.pure-form select {
			height:2.25em;
			border:1px solid #ccc;
			background-color:#fff
		}

		.pure-form select[multiple] {
			height:auto
		}

		.pure-form label {
			margin:.5em 0 .2em
		}

		.pure-form fieldset {
			margin:0;
			padding:.35em 0 .75em;
			border:0
		}

		.pure-form legend {
			display:block;
			width:100%;
			padding:.3em 0;
			margin-bottom:.3em;
			color:#fff;
			border-bottom:1px solid #e5e5e5
		}

		.pure-form-stacked input:not([type]),.pure-form-stacked input[type=password],.pure-form-stacked input[type=email],.pure-form-stacked input[type=url],.pure-form-stacked input[type=date],.pure-form-stacked input[type=month],.pure-form-stacked input[type=time],.pure-form-stacked input[type=datetime],.pure-form-stacked input[type=datetime-local],.pure-form-stacked input[type=week],.pure-form-stacked input[type=tel],.pure-form-stacked input[type=color],.pure-form-stacked input[type=file],.pure-form-stacked input[type=number],.pure-form-stacked input[type=search],.pure-form-stacked input[type=text],.pure-form-stacked label,.pure-form-stacked select,.pure-form-stacked textarea {
			display:block;
			margin:.25em 0
		}

		.pure-form-aligned .pure-help-inline,.pure-form-aligned input,.pure-form-aligned select,.pure-form-aligned textarea,.pure-form-message-inline {
			display:inline-block;
			vertical-align:middle
		}

		.pure-form-aligned textarea {
			vertical-align:top
		}

		.pure-form-aligned .pure-control-group {
			margin-bottom:.5em
		}

		.pure-form-aligned .pure-control-group label {
			text-align:right;
			display:inline-block;
			vertical-align:middle;
			width:10em;
			margin:0 1em 0 0
		}

		.pure-form-aligned .pure-controls {
			margin:1.5em 0 0 11em
		}

		.pure-form .pure-input-rounded,.pure-form input.pure-input-rounded {
			border-radius:2em;
			padding:.5em 1em
		}

		.pure-form .pure-group fieldset {
			margin-bottom:10px
		}

		.pure-form .pure-group input,.pure-form .pure-group textarea {
			display:block;
			padding:10px;
			margin:0 0 -1px;
			border-radius:0;
			position:relative;
			top:-1px
		}

		.pure-form .pure-group input:focus,.pure-form .pure-group textarea:focus {
			z-index:3
		}

		.pure-form .pure-group input:first-child,.pure-form .pure-group textarea:first-child {
			top:1px;
			border-radius:4px 4px 0 0;
			margin:0
		}

		.pure-form .pure-group input:first-child:last-child,.pure-form .pure-group textarea:first-child:last-child {
			top:1px;
			border-radius:4px;
			margin:0
		}

		.pure-form .pure-group input:last-child,.pure-form .pure-group textarea:last-child {
			top:-2px;
			border-radius:0 0 4px 4px;
			margin:0
		}

		.pure-form .pure-group button {margin:.35em 0}
		.pure-form .pure-input-1 {width:100%}
		.pure-form .pure-input-3-4 {width:75%}
		.pure-form .pure-input-2-3 {width:66%}
		.pure-form .pure-input-1-2 {width:50%}
		.pure-form .pure-input-1-3 {width:33%}
		.pure-form .pure-input-1-4 {width:25%}

		.pure-form .pure-help-inline,.pure-form-message-inline {
			display:inline-block;
			padding-left:.3em;
			color:#666;
			vertical-align:middle;
			font-size:.875em
		}

		.pure-form-message {
			display:block;
			color:#666;
			font-size:.875em
		}

		@media only screen and (max-width :480px) {
			.pure-form button[type=submit] {
				margin:.7em 0 0
			}

			.pure-form input:not([type]),.pure-form input[type=password],.pure-form input[type=email],.pure-form input[type=url],.pure-form input[type=date],.pure-form input[type=month],.pure-form input[type=time],.pure-form input[type=datetime],.pure-form input[type=datetime-local],.pure-form input[type=week],.pure-form input[type=tel],.pure-form input[type=color],.pure-form input[type=number],.pure-form input[type=search],.pure-form input[type=text],.pure-form label {
				margin-bottom:.3em;
				display:block
			}

			.pure-group input:not([type]),.pure-group input[type=password],.pure-group input[type=email],.pure-group input[type=url],.pure-group input[type=date],.pure-group input[type=month],.pure-group input[type=time],.pure-group input[type=datetime],.pure-group input[type=datetime-local],.pure-group input[type=week],.pure-group input[type=tel],.pure-group input[type=color],.pure-group input[type=number],.pure-group input[type=search],.pure-group input[type=text] {
				margin-bottom:0
			}

			.pure-form-aligned .pure-control-group label {
				margin-bottom:.3em;
				text-align:left;
				display:block;
				width:100%
			}

			.pure-form-aligned .pure-controls {
				margin:1.5em 0 0
			}

			.pure-form .pure-help-inline,.pure-form-message,.pure-form-message-inline {
				display:block;
				font-size:.75em;
				padding:.2em 0 .8em
			}
		}
		
		@media only screen and (max-width :480px) and (orientation: portrait){
			#temp_channel{
				display:inline;
			}
			#chart_container{
				display:none;
			}
		}

		@media only screen and (max-width :768px) and (orientation: landscape){
			#temp_channel{
				display:none;
			}
			
			#chart_container{
				display:inline;
			}
		}
		}
		
		.pure-menu-fixed {
			position:fixed;
			left:0;
			top:0;
			z-index:3
		}

		.pure-menu-item,.pure-menu-list {
			position:relative
		}

		.pure-menu-list {
			list-style:none;
			margin:0;
			padding:0
		}

		.pure-menu-item {
			padding:0;
			margin:0;
			height:100%
		}

		.pure-menu-heading,.pure-menu-link {
			display:block;
			text-decoration:none;
			white-space:nowrap
		}

		.pure-menu-horizontal {
			width:100%;
			white-space:nowrap
		}

		.pure-menu-horizontal .pure-menu-list {
			display:inline-block
		}

		.pure-menu-horizontal .pure-menu-heading,.pure-menu-horizontal .pure-menu-item,.pure-menu-horizontal .pure-menu-separator {
			display:inline-block;
			zoom:1;
			vertical-align:middle
		}

		.pure-menu-item .pure-menu-item {
			display:block
		}

		.pure-menu-children {
			display:none;
			position:absolute;
			left:100%;
			top:0;
			margin:0;
			padding:0;
			z-index:3
		}

		.pure-menu-horizontal .pure-menu-children {
			left:0;
			top:auto;
			width:inherit
		}

		.pure-menu-active>.pure-menu-children,.pure-menu-allow-hover:hover>.pure-menu-children {
			display:block;
			position:absolute
		}

		.pure-menu-has-children>.pure-menu-link:after {
			padding-left:.5em;
			content:"\25B8";
			font-size:small
		}

		.pure-menu-horizontal .pure-menu-has-children>.pure-menu-link:after {content:"\25BE"}

		.pure-menu-scrollable {
			overflow-y:scroll;
			overflow-x:hidden
		}

		.pure-menu-scrollable .pure-menu-list {display:block}
		.pure-menu-horizontal.pure-menu-scrollable .pure-menu-list {display:inline-block}

		.pure-menu-horizontal.pure-menu-scrollable {
			white-space:nowrap;
			overflow-y:hidden;
			overflow-x:auto;
			-ms-overflow-style:none;
			-webkit-overflow-scrolling:touch;
			padding:.5em 0
		}

		.pure-menu-horizontal.pure-menu-scrollable::-webkit-scrollbar {
			display:none
		}

		.pure-menu-horizontal .pure-menu-children .pure-menu-separator,.pure-menu-separator {
			background-color:#ccc;
			height:1px;
			margin:.3em 0
		}

		.pure-menu-horizontal .pure-menu-separator {
			width:1px;
			height:1.3em;
			margin:0 .3em
		}

		.pure-menu-horizontal .pure-menu-children .pure-menu-separator {
			display:block;
			width:auto
		}

		.pure-menu-heading {
			text-transform:uppercase;
			color:#565d64
		}
		.pure-menu-link {color:#777}
		.pure-menu-children {background-color:#fff}
		.pure-menu-disabled,.pure-menu-heading,.pure-menu-link {padding:.5em 1em}
		.pure-menu-disabled {opacity:.5}
		.pure-menu-disabled .pure-menu-link:hover {background-color:transparent}
		.pure-menu-active>.pure-menu-link,.pure-menu-link:focus,.pure-menu-link:hover {background-color:#eee}
		.pure-menu-selected .pure-menu-link,.pure-menu-selected .pure-menu-link:visited {color:#000}
		.pure-table {
			empty-cells:show;
			border:1px solid #cbcbcb
		}
		.pure-table caption {
			color:#000;
			font:italic 85%/1 arial,sans-serif;
			padding:1em 0;
			text-align:center
		}
		.pure-table td,.pure-table th {
			border-left:1px solid #cbcbcb;
			border-width:0 0 0 1px;
			font-size:inherit;
			margin:0;
			overflow:visible;
			padding:.5em 1em
		}
		.pure-table td:first-child,.pure-table th:first-child {border-left-width:0}
		.pure-table thead {
			background-color:#e0e0e0;
			color:#000;
			text-align:left;
			vertical-align:bottom
		}
		.pure-table td {background-color:transparent}
		.pure-table-odd td,.pure-table-striped tr:nth-child(2n-1) td {background-color:#f2f2f2}
		.pure-table-bordered td {border-bottom:1px solid #cbcbcb}
		.pure-table-bordered tbody>tr:last-child>td {border-bottom-width:0}
		.pure-table-horizontal td,.pure-table-horizontal th {
			border-width:0 0 1px;
			border-bottom:1px solid #cbcbcb
		}
		.pure-table-horizontal tbody>tr:last-child>td {border-bottom-width:0}

		.pure-g {
			letter-spacing:-.31em;
			text-rendering:optimizespeed;
			font-family:FreeSans,Arimo,"Droid Sans",Helvetica,Arial,sans-serif;
			display:-webkit-box;
			display:-webkit-flex;
			display:-ms-flexbox;
			display:flex;
			-webkit-flex-flow:row wrap;
			-ms-flex-flow:row wrap;
			flex-flow:row wrap;
			-webkit-align-content:flex-start;
			-ms-flex-line-pack:start;
			align-content:flex-start
		}

		@media all and (-ms-high-contrast:none),(-ms-high-contrast:active) {
			table .pure-g {display:block}
		}

		.opera-only :-o-prefocus,.pure-g {word-spacing:-.43em}
		
		.pure-u,.pure-u-1,.pure-u-1-1,.pure-u-1-2,.pure-u-1-3,.pure-u-1-4 {
			display:inline-block;
			zoom:1;
			letter-spacing:normal;
			word-spacing:normal;
			vertical-align:top;
			text-rendering:auto
		}
		.pure-g [class*=pure-u] {font-family:sans-serif}
		.pure-u-1-4 {width:25%}
		.pure-u-1-3 {width:33.3333%}
		.pure-u-1-2 {width:50%}
		.pure-u-1,.pure-u-1-1 {width:100%}

		@media screen and (min-width:35.5em) {
			.pure-u-sm-1,.pure-u-sm-1-1,.pure-u-sm-1-2,.pure-u-sm-1-3,.pure-u-sm-1-4 {
				display:inline-block;
				zoom:1;
				letter-spacing:normal;
				word-spacing:normal;
				vertical-align:top;
				text-rendering:auto
			}

			.pure-u-sm-1-4 {width:25%}
			.pure-u-sm-1-3 {width:33.3333%}
			.pure-u-sm-1-2 {width:50%}
			.pure-u-sm-1,.pure-u-sm-1-1 {width:100%}
		}

		@media screen and (min-width:48em) {
			.pure-u-md-1,.pure-u-md-1-1,.pure-u-md-1-2,.pure-u-md-1-3,.pure-u-md-1-4 {
				display:inline-block;
				zoom:1;
				letter-spacing:normal;
				word-spacing:normal;
				vertical-align:top;
				text-rendering:auto
			}
			.pure-u-md-1-4 {width:25%}
			.pure-u-md-1-3 {width:33.3333%}
			.pure-u-md-1-2 {width:50%}
			.pure-u-md-1,.pure-u-md-1-1 {width:100%}
		}

		@media screen and (min-width:64em) {
			.pure-u-lg-1,.pure-u-lg-1-1,.pure-u-lg-1-2,.pure-u-lg-1-3,.pure-u-lg-1-4 {
				display:inline-block;
				zoom:1;
				letter-spacing:normal;
				word-spacing:normal;
				vertical-align:top;
				text-rendering:auto
			}
			.pure-u-lg-1-4 {width:25%}
			.pure-u-lg-1-3 {width:33.3333%}
			.pure-u-lg-1-2 {width:50%}
			.pure-u-lg-1,.pure-u-lg-1-1 {width:100%}
		}

		@media screen and (min-width:80em) {
			.pure-u-xl-1,.pure-u-xl-1-1,.pure-u-xl-1-2,.pure-u-xl-1-3,.pure-u-xl-1-4 {
				display:inline-block;
				zoom:1;
				letter-spacing:normal;
				word-spacing:normal;
				vertical-align:top;
				text-rendering:auto;
			}
			.pure-u-xl-1-4 {width:25%}
			.pure-u-xl-1-3 {width:33.3333%}
			.pure-u-xl-1-2 {width:50%}
			.pure-u-xl-1,.pure-u-xl-1-1 {width:100%}
		}

		.headmenu {
			background-color:#333;
			border-bottom:4px solid #2F2F2F;
			color:#ccc;
			height:44px;
		}


		#thermoname {
			padding:14px 5px;
			overflow: hidden;
			text-overflow: ellipsis;
			white-space: nowrap;
			float:left;
		}
		.float-right {
			float:right;
		}
		.float-left {
			float:left;
		}
		.wifi, .notification {
			text-align:center;
			padding:14px 5px;
			overflow: hidden;;
			float:right;
			border-left:2px solid #333;
		}

		.battery {
			text-align:center;
			padding:14px 5px;
			float:right;
		}
		
		.channel {
			background-color:#4a4a4a;
			border-left:10px solid #FFF;
			color:#ccc;
			padding:5px 10px;
			margin:5px;
			position:relative;
		}

		.channel_conf,.wlan_conf,.chart_container {
			background-color:#4a4a4a;
			color:#ccc;
			padding:5px 20px;
			margin:5px;
			position:relative;
		}

		.chtitle {
			font-size:1em;
			text-align:left;
		}

		.chnumber {
			position:absolute;
			right:.7em;
			top:.3em;
		}

		.temp {
			font-size:2em;
			padding-top:.4em;
			text-align:right;
			float:left;
			width:75%
		}

		.temp_input {
			width:8.2em;
		}

		.tempadjust {
			text-align:left;
			float:left;
			width:25%;
		}

		.tempmin {
			font-size:.8em;
			float:left;
		}

		.tempmax {
			font-size:.8em;
			clear:both;
		}

		.clear {
			clear:both;
		}


		body {
			color:#777;
			background-color:#333;
		}

		.pure-img-responsive {
			max-width:100%;
			height:auto;
		}

		#layout,#menu,.menu-link {
			-webkit-transition:all .2s ease-out;
			-moz-transition:all .2s ease-out;
			-ms-transition:all .2s ease-out;
			-o-transition:all .2s ease-out;
			transition:all .2s ease-out;
		}

		#layout {
			position:relative;
			left:0;
			padding-left:0;
		}

		#layout.active #menu {
			left:150px;
			width:150px;
		}

		#layout.active .menu-link {
			left:150px;
		}

		.content {
			margin:0 auto;
			max-width:1024px;
			margin-bottom:50px;
			line-height:1.6em;
		}

		.header {
			margin:0;
			color:#FFF;
			text-align:center;
			border-bottom:1px solid #555;
			display:none;
		}

		.header h1 {
			margin:.2em 0;
			font-size:3em;
			font-weight:300;
		}

		.header h2 {
			font-weight:300;
			color:#ccc;
			padding:0;
			margin-top:0;
		}

		.headtitle {
			padding:0;
			margin:5px 35px 0 5px;
		}

		.footer_buttons {
			margin:5px;
		}

		.content-subhead {
			margin:50px 0 20px;
			font-weight:300;
			color:#888;
		}

		.checkbox_title {
			margin-left: 45px;
		}

		#menu {
			margin-left:-150px;
			width:150px;
			position:fixed;
			top:0;
			left:0;
			bottom:0;
			z-index:1000;
			background:#191818;
			overflow-y:auto;
			-webkit-overflow-scrolling:touch;
		}

		#menu a {
			color:#999;
			border:none;
			padding:.6em 0 .6em .6em;
		}

		#menu .pure-menu,#menu .pure-menu ul {
			border:none;
			background:transparent;
		}

		#menu .pure-menu li a:hover,#menu .pure-menu li a:focus {
			background:#333;
		}

		#menu .pure-menu-selected a {
			color:#fff;
		}

		#menu .pure-menu-heading {
			font-size:110%;
			color:#fff;
			margin:0;
		}

		.umenu  {
			list-style-type:disc;
			margin:4px;
		}

		.umenu a {
			padding:4px !important;
			text-decoration:none;
		}

		.menu-link {
			position:absolut;
			display:block;
			top:0;
			left:0;
			background:#333;
			font-size:10px;
			z-index:10;
			width:2em;
			height:auto;
			padding:2.1em 1.6em;
			float:left;
		}

		.menu-link:hover,.menu-link:focus {
			background:#333;
		}

		.menu-link span {
			position:relative;
			display:block;
		}

		.menu-link span,.menu-link span:before,.menu-link span:after {
			background-color:#fff;
			width:100%;
			height:.2em;
		}

		.menu-link span:before,.menu-link span:after {
			position:absolute;
			margin-top:-.6em;
			content:" ";
		}

		.menu-link span:after {
			margin-top:.6em;
		}

		@media (min-width: 48em) {
			.header,.content {
			}

			#layout {
			padding-left:150px;
			left:0;
			}

			#menu {
			left:150px;
			}

			.menu-link {
			position:fixed;
			left:150px;
			display:none;
			}

			#layout.active .menu-link {
			left:150px;
			}
		}

		.channel:hover, .notification:hover, .wifi:hover, .battery:hover{
			cursor: pointer;
		}

		@media (max-width: 48em) {
			#layout.active {
				position:relative;
				left:150px;
			}
		}

		/*
		`.menu-link` represents the responsive menu toggle that shows/hides on
		small screens.
		*/
		.menu-link {
			position: absolut;
			display: block; /* show this only on small screens */
			top: 0;
			left: 0; /* "#menu width" */
			background: #333;			
			font-size: 10px; /* change this value to increase/decrease button size */
			z-index: 10;
			width: 2em;
			height: auto;
			padding: 2.1em 1.6em;
			float: left;
		}

		.menu-link:hover,.menu-link:focus {
			background: #333;
		}

		.menu-link span {
			position: relative;
			display: block;
		}

		.menu-link span,.menu-link span:before,.menu-link span:after {
			background-color: #fff;
			width: 100%;
			height: 0.2em;
		}

		.menu-link span:before,.menu-link span:after {
			position: absolute;
			margin-top: -0.6em;
			content: " ";
		}

		.menu-link span:after {margin-top: 0.6em;}
		select option{background-color:#4A4A4A;}
		input,select,textarea * {box-sizing: border-box;}
		
		body::after, body::before,input::after,input::before,select::after,select::before,textarea::after,textarea::before,body *::after,body *::before {
			box-sizing: border-box;
		}

		h1 {
			font-size: 2rem;
			text-align: center;
			margin: 0 0 2em;
		}

		.button-container {
			text-align: center;
		}

		fieldset {
			margin: 0 0 3rem;
			padding: 0;
			border: none;
		}

		.form-radio,.form-group {
			position: relative;
			margin-top: 1.25rem;
			margin-bottom: 1.25rem;
		}

		.form-inline > .form-group,.form-inline > .btn {
			display: inline-block;
			margin-bottom: 0;
		}

		.form-help {
			margin-top: 0.125rem;
			margin-left: 0.125rem;
			color: #b3b3b3;
			font-size: 0.8rem;
		}
		
		.checkbox .form-help, .form-radio .form-help, .form-group .form-help {
			position: absolute;
			width: 100%;
		}
		
		.checkbox .form-help {
			position: relative;
			margin-bottom: 1rem;
		}
		
		.form-radio .form-help {
			padding-top: 0.25rem;
			margin-top: -1rem;
		}

		.form-group input {
			height: 1.9rem;
		}
		
		.form-group textarea {
			resize: none;
		}
		
		select {
			-webkit-appearance: none;
			-moz-appearance: none;
			appearance: none;
		}
		
		.form-group select {
			width: 100%;
			font-size: 1rem;
			height: 1.6rem;
			padding: 0.125rem 0.125rem 0.0625rem;
			background: none;
			border: none;
			line-height: 1.6;
			box-shadow: none;
		}
		
		.form-group .control-label {
			position: absolute;
			top: 0.25rem;
			pointer-events: none;
			padding-left: 0.125rem;
			z-index: 1;
			color: #b3b3b3;
			font-size: 1rem;
			font-weight: normal;
			-webkit-transition: all 0.28s ease;
			transition: all 0.28s ease;
		}
		
		.form-group .bar {
			position: relative;
			border-bottom: 0.0625rem solid #999;
			display: block;
		}
			
		.form-group .bar::before {
			content: '';
			height: 0.125rem;
			width: 0;
			left: 50%;
			bottom: -0.0625rem;
			position: absolute;
			background: #337ab7;
			-webkit-transition: left 0.28s ease, width 0.28s ease;
			transition: left 0.28s ease, width 0.28s ease;
			z-index: 2;
		}
		
		.form-group input,.form-group textarea {
			display: block;
			background: none;
			padding: 0.375rem 0.125rem 0.0625rem;
			font-size: 1rem;
			border-width: 0;
			border-color: transparent;
			line-height: 1.9;
			width: 100%;
			color: transparent;
			-webkit-transition: all 0.28s ease;
			transition: all 0.28s ease;
			box-shadow: none;
		}
		
		.form-group input[type="file"] {
			line-height: 1;
		}
		
		.form-group input[type="file"] ~ .bar {
			display: none;
		}
		
		.form-group select,.form-group input:focus,.form-group input:valid,.form-group input.form-file,.form-group input.has-value,.form-group textarea:focus,.form-group textarea:valid,.form-group textarea.form-file,.form-group textarea.has-value {
			color: #fff;
		}
		
		.form-group select ~ .control-label,.form-group input:focus ~ .control-label,.form-group input:valid ~ .control-label,.form-group input.form-file ~ .control-label,.form-group input.has-value ~ .control-label,.form-group textarea:focus ~ .control-label,.form-group textarea:valid ~ .control-label,.form-group textarea.form-file ~ .control-label,.form-group textarea.has-value ~ .control-label {
			font-size: 0.8rem;
			color: gray;
			top: -1rem;
			left: 0;
		}
		
		.form-group select:focus,.form-group input:focus,.form-group textarea:focus {
			outline: none;
		}
		
		.form-group select:focus ~ .control-label,.form-group input:focus ~ .control-label,.form-group textarea:focus ~ .control-label {
			color: #337ab7;
		}	
		.form-group select:focus ~ .bar::before,.form-group input:focus ~ .bar::before,.form-group textarea:focus ~ .bar::before {
			width: 100%;
			left: 0;
		}

		 /* unvisited link */
		a:link,a:visited,a:active {
			color: #fff;
			text-decoration: none;
		}

		/* mouse over link */
		a:hover {
			color: #337ab7;
			text-decoration: none;
		}

		.checkbox label,.form-radio label {
			position: relative;
			cursor: pointer;
			padding-left: 2rem;
			text-align: left;
			color: #fff;
			display: block;
		}

		.checkbox input,.form-radio input {
			width: auto;
			opacity: 0.00000001;
			position: absolute;
			left: 0;
		}

		.radio {
			margin-bottom: 1rem;
		}
			
		.radio .helper {
			position: absolute;
			top: -0.25rem;
			left: -0.25rem;
			cursor: pointer;
			display: block;
			font-size: 1rem;
				-webkit-user-select: none;
				-moz-user-select: none;
				-ms-user-select: none;
				user-select: none;
			color: #999;
		}
		
		.radio .helper::before, .radio .helper::after {
			content: '';
			position: absolute;
			left: 0;
			top: 0;
			margin: 0.25rem;
			width: 1rem;
			height: 1rem;
			-webkit-transition: -webkit-transform 0.28s ease;
			transition: -webkit-transform 0.28s ease;
			transition: transform 0.28s ease;
			transition: transform 0.28s ease, -webkit-transform 0.28s ease;
			border-radius: 50%;
			border: 0.125rem solid currentColor;
		}
			
		.radio .helper::after {
			-webkit-transform: scale(0);
				transform: scale(0);
			background-color: #fcfcfc;
			border-color: #fcfcfc;
		}
			
		.radio label:hover .helper {
			color: #fcfcfc;
		}
				
		.radio input:checked ~ .helper::after {
			-webkit-transform: scale(0.5);
				transform: scale(0.5);
		}
				
		.radio input:checked ~ .helper::before {
			color: #fcfcfc;
		}

		.checkbox {
			margin-top: 1.25rem;
			margin-bottom: 1rem;
		}
				
		.checkbox .helper {
			color: #999;
			position: absolute;
			top: 0;
			left: 0;
			width: 1rem;
			height: 1rem;
			z-index: 0;
			border: 0.125rem solid currentColor;
			border-radius: 0.0625rem;
			-webkit-transition: border-color 0.28s ease;
			transition: border-color 0.28s ease;
		}
		
		.checkbox .helper::before, .checkbox .helper::after {
			position: absolute;
			height: 0;
			width: 0.2rem;
			background-color: #fcfcfc;
			display: block;
			-webkit-transform-origin: left top;
				transform-origin: left top;
			border-radius: 0.25rem;
			content: '';
			-webkit-transition: opacity 0.28s ease, height 0s linear 0.28s;
			transition: opacity 0.28s ease, height 0s linear 0.28s;
			opacity: 0;
		}
		
		.checkbox .helper::before {
			top: 0.65rem;
			left: 0.38rem;
			-webkit-transform: rotate(-135deg);
				transform: rotate(-135deg);
			box-shadow: 0 0 0 0.0625rem #fff;
		}
		
		.checkbox .helper::after {
			top: 0.3rem;
			left: 0;
			-webkit-transform: rotate(-45deg);
				transform: rotate(-45deg);
		}

		.checkbox label:hover .helper {
			color: #fcfcfc;
		}
		
		.checkbox input:checked ~ .helper {
			color: #fcfcfc;
		}
		
		.checkbox input:checked ~ .helper::after, .checkbox input:checked ~ .helper::before {
			opacity: 1;
			-webkit-transition: height 0.28s ease;
			transition: height 0.28s ease;
		}
		
		.checkbox input:checked ~ .helper::after {
			height: 0.5rem;
		}
		
		.checkbox input:checked ~ .helper::before {
			height: 1.2rem;
			-webkit-transition-delay: 0.28s;
				transition-delay: 0.28s;
		}

		.radio + .radio,
			.checkbox + .checkbox {
			margin-top: 1rem;
		}

		.has-error .legend.legend, .has-error.form-group .control-label.control-label {
			color: #d9534f;
		}
		
		.has-error.form-group .form-help,.has-error.form-group .helper, .has-error.checkbox .form-help,.has-error.checkbox .helper, .has-error.radio .form-help,.has-error.radio .helper, .has-error.form-radio .form-help,.has-error.form-radio .helper {
			color: #d9534f;
		}
		
		.has-error .bar::before {
			background: #d9534f;
			left: 0;
			width: 100%;
		}

		.button {
			position: relative;
			background: currentColor;
			border: 1px solid currentColor;
			font-size: 1.1rem;
			color: #4f93ce;
			margin: 3rem 0;
			padding: 0.75rem 3rem;
			cursor: pointer;
			-webkit-transition: background-color 0.28s ease, color 0.28s ease, box-shadow 0.28s ease;
			transition: background-color 0.28s ease, color 0.28s ease, box-shadow 0.28s ease;
			overflow: hidden;
			box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
		}
		
		.button span {
			color: #fff;
			position: relative;
			z-index: 1;
		}
		
		.button::before {
			content: '';
			position: absolute;
			background: #071017;
			border: 50vh solid #1d4567;
			width: 30vh;
			height: 30vh;
			border-radius: 50%;
			display: block;
			top: 50%;
			left: 50%;
			z-index: 0;
			opacity: 1;
			-webkit-transform: translate(-50%, -50%) scale(0);
				transform: translate(-50%, -50%) scale(0);
		}
		
		.button:hover {
			color: #fcfcfc;
			box-shadow: 0 6px 10px 0 rgba(0, 0, 0, 0.14), 0 1px 18px 0 rgba(0, 0, 0, 0.12), 0 3px 5px -1px rgba(0, 0, 0, 0.2);
		}
		
		.button:active::before, .button:focus::before {
			-webkit-transition: opacity 0.28s ease 0.364s, -webkit-transform 1.12s ease;
			transition: opacity 0.28s ease 0.364s, -webkit-transform 1.12s ease;
			transition: transform 1.12s ease, opacity 0.28s ease 0.364s;
			transition: transform 1.12s ease, opacity 0.28s ease 0.364s, -webkit-transform 1.12s ease;
			-webkit-transform: translate(-50%, -50%) scale(1);
				transform: translate(-50%, -50%) scale(1);
			opacity: 0;
		}
		
		.button:focus {
			outline: none;
		}
		
		/* -- Responsive Styles (Media Queries) ------------------------------------- */

		.cover_active{
			position:fixed; 
			top:0; 
			left:0; 
			background:rgba(0,0,0,0.6); 
			z-index:5; 
			width:100%; 
			height:100%; 
			display:none; 
			display:block; 
			opacity:2; 
		}
		.spinner{
			position: absolute;
			top: 50%;
			left: 50%;
			height: 28px;
			width: 28px;
			margin-left: -14px;
			margin-top: -14px;
			animation: rotate 0.8s infinite linear;
			border: 8px solid #fff;
			border-right-color: transparent;
			border-radius: 50%; 
			-webkit-transition-delay: 1s; /* Safari */
			transition-delay: 1s;
		}
		
		@keyframes rotate {
			0%    { transform: rotate(0deg); }
			100%  { transform: rotate(360deg); }
		}
		.table33 tr td { 
			width:33%; 
			padding-left:0.25em;
			padding-right:0.25em;
		}
		.table50 tr td{ 
			width:50%; 
			padding-left:0.25em;
			padding-right:0.25em;
		}
		
		.table33 tr td:last-child, .table50 tr td:last-child { 
			padding-right:0;
			padding-left:0.25em;
		}
		
		.table33 tr td:first-child, .table50 tr td:first-child { 
			padding-left:0;
			padding-right:0.25em;
		}
		
		.icon-form{
			position:absolute;
			padding-left:10px;
			top:0.375rem;
			right:0.25rem;
		}
		.icon-input{
			position:absolute;
			padding-left:10px;
			top:0.625rem;
			right:0.25rem;
		}
		.table_nav tr td{
			width:50%;
			padding-top:0.375rem;
			padding-bottom:0.375rem;
			color:#0078e7;
			<!-- background-color:#4a4a4a; -->
			text-align:center;
			font-size: 1.2em;
			border-bottom:4px solid #2f2f2f
		}
		.table_nav tr td:first-child { 
			text-align:left;
			padding-left:0.5rem;			
		}
		.table_nav tr td:last-child { 
			text-align:right;
			padding-right:0.5rem;			
		}
		.table_nav tr td span{
			cursor: pointer;
		}	

.helpBox {
    display: none; /* Hidden by default */
    position: fixed; /* Stay in place */
    z-index: 1001; /* Sit on top */
    padding-top: 100px; /* Location of the box */
    left: 0;
    top: 0;
    width: 100%; /* Full width */
    height: 100%; /* Full height */
    overflow: auto; /* Enable scroll if needed */
    background-color: rgb(0,0,0); /* Fallback color */
    background-color: rgba(0,0,0,0.4); /* Black w/ opacity */
}

/* helpBox Content */
.helpBox-content {
    position: relative;
    background-color: #fefefe;
    margin: auto;
    padding: 0;
    border: 1px solid #888;
    width: 80%;
    box-shadow: 0 4px 8px 0 rgba(0,0,0,0.2),0 6px 20px 0 rgba(0,0,0,0.19);
    -webkit-animation-name: animatetop;
    -webkit-animation-duration: 0.4s;
    animation-name: animatetop;
    animation-duration: 0.4s
}

/* Add Animation */
@-webkit-keyframes animatetop {
    from {top:-300px; opacity:0} 
    to {top:0; opacity:1}
}

@keyframes animatetop {
    from {top:-300px; opacity:0}
    to {top:0; opacity:1}
}

/* The Close Button */
.close {
    color: white;
    float: right;
    font-size: 28px;
    font-weight: bold;
}

.close:hover,
.close:focus {
    color: #000;
    text-decoration: none;
    cursor: pointer;
}

.helpBox-header {
    padding: 2px 16px;
    background-color: #5cb85c;
    color: white;
}

.helpBox-body {padding: 2px 16px;}

.helpBox-footer {
    padding: 2px 16px;
    background-color: #5cb85c;
    color: white;
}	
.text-align-right {
	text-align:right;
	margin-top:4px;
}
.text-align-left {
	text-align:left;
}	

.dropbtn {
	position: absolute;
    background-color: #4a4a4a;;
    padding:5px 5px 0px 8px;
	top: -5px;
	right:-20px;
	color: white;
    font-size: 16px;
    border: none;
    cursor: pointer;
}

.dropdown {
    position: relative;
    display: inline-block;
}

.dropdown-content {
    display: none;
    position: absolute;
    right: -20px;
	top: 25px;
    background-color: #333;
    min-width: 160px;
    box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
    z-index: 1;
}

.dropdown-content a {
    color: white;
    padding: 8px;
    text-decoration: none;
    display: block;
}

.dropdown-content a:hover {background-color: #f1f1f1}

.dropdown:hover .dropdown-content {
    display: block;
}

.dropdown:hover .dropbtn {
    background-color: #3e8e41;
}
	
    </style>
</head>
<body>

<div id="layout">
	<div class="headmenu">
		<!-- Menu toggle -->
		<a href="#menu" id="menuLink" class="menu-link">
			<!-- Hamburger icon -->
			<span></span>
		</a>
		<div id="thermoname">N.C.</div>
		<div class="battery" onclick="setshowBatteryWlanIcon();">N.C.</div>
		<div class="wifi" onclick="setshowBatteryWlanIcon();">N.C.</div>
		<div class="notification" style="display:none" onclick="update();"><span class="icon-notification"> </span></div>
	</div>
	<div class="clear"></div>
    <div id="menu">
        <div class="pure-menu custom-restricted-width">
			<a class="pure-menu-heading" href="javascript:showIndex()">
				<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIwAAAA+CAMAAADOHANyAAABy1BMVEVHcEz////LtrjCo6T+/v67
						srLmGSX18/Pk5OT////////////19fX9/f3+/v76+vrs7Oz7+/vkMDr+/v77+/vkCxj///+8vLzc
						3Nz8/Pzx8fH8/Pz9/f3v7+/+/v77+/vp6en6+vrk5OTt7e3////7+/vx8fH39/f7+/v8/Pzv7+/0
						9PTkDxzb29vz8fH7+/v+/v74+Pjy8vL7+/v6+vr9/f3a2tr////+/v76+fn8/Pz5+fnkCRb4+Pj8
						/Pz19fX8/Pz9/f3kCxjlEh75+fnu7u7kChb7+/vkDRr5+fn09PT8/Pz29vba2tr6+vr8/Pzs7Oz8
						/Pz39/f9/f37+/vkDBnkCRblER3v7+/v7+/+/v7kBxT6+vrpOELz8/P8/PzlDxz6+vroLDfq6ur5
						+fn39/f29vb8/Pz////kEyDrRlDnIy/lDRr////////kDBj////kBxToMz3z8/PlEyDlGCPkChf3
						9/f////lEh/lFSH4+PjlFSHnIS3kDRrkCxjkChflEBz////lDhrkDBjlHyvkCxj39/flFyPu7u7m
						GyfkDRnlEyDlFSH////oc3r////pXGTnKTTywcTzxMfrT1jsgIb////kBhPe/hkIAAAAl3RSTlMA
						zQMC/QE8SBT+fPpg5PhSDB/L3XPKkBsH3i6W7WqBohqTKDIUvhxkr8kOTXQJN7P0cDSqiPEEjraP
						23nsa+OqzOnglJ0k8qWofUS7UAuFxBHPV9a4tfhbKidL/vkLO9R+ixYXgklB2Z6EBxyuSFXGKfsR
						PW5C2j50Y0xbVyac1OaMXKK7NszGRzwsv1NQyl7LiDN1jxiQLUfRqQAACeRJREFUeF7tmGlXG0cW
						hu9IaiMs1IiEZATSBBQCSGBAGKQZNgWZfbMABIYQA9gYAraTeMGOl3gZL4m3yWS2l587fau6qlsg
						nUM44VueD5xbatT16tbduunUub1/7sm7e/2rBweroxe+G994f51KUh25qUyjaZoUVyOREBF9FjlP
						RzD6PORiIEwuvJHIVVIYr3Zf3zo4zIUXjy9TUbqR1/bWuqHMZvSSxceopCNsF374jzGDHNLl+Jwk
						1zfuHZRgaXzfoGJ3Trap+2TQTjZdiJUUk0fCcIvBVjExP75gn5Tm6SUPHSacQhlJWoFhdcsorpUS
						01AObBeIKa84Iub6Eynlwo3ndy89fnzp7u7409VDcu49pMPE0aMtpELSvMP+KiGmC0C+QAwCk4Vi
						vHdHrc1Gxy9dKQjlD0/6C+UsHg7mASxIoz4AE83Svog8lRAz4kMMvlq3GBOpZbeY6++sjV4/KBKl
						ex9eFvin//2hmwNNxPShZhM5Esyhs5SYCHY8CdS5xXQv4OOrjphfrN//yc9UgleLbjWrzwsjp1e6
						w1uDiZVyLAsn+bBSQkw9e68SgSaXmB+qskjMaDEfHfRfMshFW3S9q+++rgA/FyTZjT1yEUOcLCZ5
						g0YZQBWooRJiuhEMk2cHPW4x1J5El1eLuaFCRdUvMKmu6TQJLg+5z2rRraYV0bSIyw5WkQ0LO1JC
						zGwK1aIMJf1uMVTpw6Y8BeuY6BDnYZOpthPkAwe4YtxLmhkTa0R+E62WncK8SOzWEmL6EOX7hYOY
						KBBD1cAAEb1/qYuewzVosgPSO28vuNRskEMjtvhmwbQIzzzRGpKh4mLasrhITDWyMwViKIbANXq7
						VExM2Y4JzaBMxOuuwLm1T5pqJMhYwJb0qK+KLmKKiooxmhFor2JqTQwUikl3INV+r/+VFuMmXTvQ
						oQSZA4ZQ4/LNBacK1MLnv8MimDls0SCqi4tJ98Kh11MghkKDCH60L4peUWY71beHw6JfuCrgLimM
						IB7VIa9qYKaeE7yomHm4mS8UQ/UZzIVKiWE8FUEI8uKI953mteSU4mHEk2rXWRNfIkNFxRiDGAsp
						6jBoFIqhX1PoCBcRk9ZWKOYDMyWazcaBZqjgB2fVN8YARIqLKUO50waWyzFZKObMhbIAIkXEzAWn
						Js4bdmZFwYiq5PnOcY0uTX4f0O3MFMB0cTGN6CjosPlCMYsPqRnAUTHicHY6ZfqNfAxmSyT4rSLp
						nUD5irK9vTBDRcW0A3fIvSxvcIu5foM7bBExhglBsMIQobXDC59w63Mt5pnuUVtoJE0fL7SYRy2S
						NnZFjtw0Yswt5txb3njsqBg/FHnRTquEpzItPFU4lVgPN2syM9QoUe0SoximZR9aSSO7WZUjxrhL
						TFvuiJj6XBY2mVrhUxOA7G67TlNw6kcbOXTUFhUzjDkvuTESiDliLv+LBF/0Hk1tY3miBoJogyyz
						FuYIEV1ZUmJGdeGbJRcthjabqhR+y56lQmarmsT/sMMNfa+WNBUh3Szdk2UJngQAORONu87p98Og
						ovjXbk6OGMLqADPHh9DuAxCo5+HGXWoG/6T5nGqtv5+S4AfL5BDxO9dzXqIGYSU6NifV5tvWWg83
						fDlCmlDnnE+4I8bB5Y2B6bbnbYjGv6ebwlMiHzQN9AbA30jwVwA89P8Zmq+9RG+gmPKrNguk2vTo
						BWRIMR2EwuzzEhl1bAZWRMpY9PIPeqEn0NsnF4Mp6Zs6uKokh6lPVamJcrjoChOF5wCIgmAIizPl
						wYFin742zQDLNU2zpJhyU5BiMWIZACMTXd9fj3TtymXMwvDFWEKoqjOIGnSs9MGimpu3FiNqw18A
						fMZGKTE/EaP/40sjPBJX2eBJwjmnbjDNUhgrrpmUoZRQn48pDbVsxDmSRnUEn0gM568Psh6vAPqc
						jF7oakY5zhxVDMKcSdkW0VLkF42oCq9P9GR+UjFhE0iQRSUEdc4pIa/s5AiR5+HGg9tEIdY5YEeV
						yX5sVOGlK83ro2Jy3wu+cYmpqRZ0GlpMyyaHpIhSvieQ4uFtU9oZdWI9RLd5SujfJ3oEiJ43LFOF
						KAJADHFDevg8IkZTOpuSwazIwUfqyZs3uEZk1ADBPICQ/cPXVOL2X+ZnEKQMok5YVNq/AvddI9Zq
						/wnEKBKi7K8DqVoWJE8mtmmnEx/LLO3ZreexzDo/0bwK5U6VkOd0dzq5mLxfRGYAyLGiaFiczJ0K
						e68g4Guj/zpZm4N4qG+FxYC9K6ZdYlaXjooJfiNYcInZ+VZQaceMCQtrwUinbAEoE6fkYff0SI/h
						KnmfyY3OSFftLp77pS4DVKgyVOb2TP+JsikPyGc5GZedUpI4JZrxyXSKy0N4oJL2qg/I3uAtx3/9
						T609E6LdPe09O5EYrqPJel3mJsnYAaI9fEoidzN2SMS52j87WHpyWcZrvF/lzZPHVyaS8tzoie6U
						JxJDXfoJooNPQ/5ME8h4xSe+FqKmgB2f3it7XBt563+/dKbM1adD/+v5iXPgpfro3cnErATkoCb8
						kOV6D0HM9tUbu6Ak1Zy6UsOhlybvjw+GXuvh7tZ3u2f2SD/mvjiWmPWvBNecohexm2PIBzQ6jWCN
						o8hOJ38QQHldg0FU38d+8W2T5PKZc+Naweji0NC4DPONY4nRqa3FNJkQ7/XahTtUOPIpUYPqTmtJ
						MNGFDASd5ObKw92XKoT6x4eGFkcP3p9MjKz8HUTNqkk3QGloCwBTxNyPwiGgtTh4f7w09MmSem0+
						dOWkYvwpoPwO9YgAYXodSw97TXEo5u5QCfZe3X1xb1W1Jmo4e/bstvy2ZX1LgmuWyeVg5qymz5D/
						IcaFryzjK5q3/oaImbaue2XpsT7zkKS2O5dNptaHy8Sl0tz+eWPxOZ0if/AH8X/a1DXxsiqWEKsx
						rsTD6lqXfMPek1Cr06HFB0VvmGg7BZvMDHn0AtlZovNZvfLTqbANRD5lEjwtzkaxLlY5bofLwDdi
						1QjM00wQNWI1xaPpqdCHjJ6n7tMAUi3ENPH4W4Fkmhg/i5mHWU/MzG8V88Vx4H3jiJNgmkeEOkyl
						xaVK+Oopgpxu6iPUg0H9gLlM1PbFcSEcB246GfSph/t1ogVcbAlAkCEaRIwEncgalLNnHXafh8eq
						43I8MfNE9epNK02hjqN5mnIQxClsquMYQ57SSTSTYFiMFx04LnTzOLTYh8N4UxigSaCevudLSVRT
						Ox+OoBdb3MDtjF5HNzfvm8eFjstFLEhjBTjvRHOVjOaoXM3yO8hmmHY0BzBNpwIfDsOZE3aiuVJG
						c16/Qr9KncDW35kcoiE6DbxRDEgrhoQrmjc5mnfUg8sEauQ7GInZSqfCin4HlEDMFc2NGJbRLOhA
						F/suI6U0ttNv4/9i06r8Fg9ccQAAAABJRU5ErkJggg==" 
				alt="WLANThermo" height="58" width="130"> 
			</a>
            <ul class="pure-menu-list">
                <li id="menuHome" class="pure-menu-item"><a href="javascript:showIndex()" class="pure-menu-link">Home</a></li>
				<li id="menuWlan" class="pure-menu-item"><a href="javascript:showWLAN()" class="pure-menu-link">WLAN</a></li>
				<li id="menuSystem" class="pure-menu-item"><a href="javascript:showSystem()" class="pure-menu-link">System</a></li>
				<li id="menuPitmaster" class="pure-menu-item"><a href="javascript:showPitmaster()" class="pure-menu-link">Pitmaster</a></li>
				<li id="menuThingspeak" class="pure-menu-item"><a href="javascript:showThingspeak()" class="pure-menu-link">IoT</a></li>
				<li id="menuNotification" class="pure-menu-item"><a href="javascript:showPushNotification()" class="pure-menu-link">Push Notification</a></li>
                <li id="menuAbout" class="pure-menu-item"><a href="javascript:showAbout()" class="pure-menu-link">Über</a></li>
            </ul>
        </div>
    </div>

    <div id="main">
        <div class="header">
            <h1>WLANThermo - Nano</h1>
        </div>
		<!-- ################################################### -->
        <div class="channel_template" style="display:none">
			<div class="pure-u-1-1 pure-u-md-1-2 pure-u-xl-1-4">
				<div class="1-box channel">
					<div class="chtitle">N.C.</div>
					<div class="chnumber">N.C.</div>
					<div class="tempadjust">
						<div class="tempmax">N.C.</div>
						<div class="tempmin">N.C.</div>
					</div>
					<div class="temp">N.C.</div>
					<div class="clear"></div>
				</div>
			</div>
		</div>
 		<!-- ################################################### -->
        <div id="index" class="content" class="hidden" style="display:none">
            <div id="temp_channel" class="pure-g channel_index"><!-- Dynamically channel insert --></div>
			<div id="chart_container" class="pure-u-1-1 pure-u-lg-1-1">
				<div class="1-box chart_container">						
					<div class="dropdown" style="float:right;">
					  <button class="dropbtn"><span class="icon-reorder"></span></button>
					  <div class="dropdown-content">
						<a onclick="createCSV();">save CSV</a>
					  </div>
					</div>
					<canvas id="nanoChart"></canvas>
				</div>
			</div>			
		</div>	
		<!-- ################################################### -->
		<div id="wlan_config" class="content" style="display:none">
			<table class="table_nav" cellpadding="0" cellspacing="0" width="100%" border="0">
				<tr>
				  <td><span onclick="showIndex();"><span class="icon-arrow_left"></span><span class="lang" data-lang="back">Zurück</span></span></td>
				  <td></td>
				</tr>
			</table>
			<div class="float-left text-align-left"><h3 class="headtitle">WLAN Einstellungen</h3></div>
			<div class="float-right text-align-right"><span onclick="setHelpBox('WLAN Einstellungen',help_wifi)" class="icon-question_sign"></span></div>
			<div style="clear:both;"></div>
			<div class="pure-g">
				<div class="pure-u-1-1 pure-u-lg-1-1">
					<div class="1-box wlan_conf">	
						<div class="checkbox">
						  <label>
							<input id="wlan_active" onclick="wlan_active();" type="checkbox" checked/><i class="helper"></i>WLAN aktivieren
						  </label>
						</div>
						<hr id="hr_wifi" style="display:none"/>
						<table id="networkconnect" class="wlantable" width="100%">
							<!--Netzwerkliste -->
						</table> 
						<hr />
						 <table width="100%">
							<tr>
								<td align="left"><h3>Netzwerk wählen...</h3></td>
								<td id="networkrefresh" align="right"></td>
							</tr>
						</table> 		
						<table id="networklist" class="wlantable" width="100%">
								<!--Netzwerkliste -->
						</table>
						<hr />
						<p class="pure-button pure-button-primary" onclick="clearWifi();">Netzwerkverbindungsdaten löschen</p>
					</div>
				</div>
			</div>
        </div>
		<!-- ################################################### -->
		<div id="wlan_set" class="content" style="display:none">
			<table class="table_nav" cellpadding="0" cellspacing="0" width="100%" border="0">
				<tr>
				  <td><span onclick="showWLAN()"><span class="icon-arrow_left"></span><span class="lang" data-lang="back">Zurück</span></span></td>
				  <td><span onclick="setWLAN(document.getElementsByName('ssidInput')[0].value, document.getElementsByName('ssidPasswordInput')[0].value)"><span class="lang" data-lang="save">Speichern</span><span class="icon-arrow_right"></span></span></td>
				</tr>
			</table>
			<h3 class="headtitle">Netzwerk Verbinden</h3>
			<div class="pure-g">
				<div class="pure-u-1-1 pure-u-lg-1-1">
					<div class="1-box channel_conf">
						<form>							
							<div class="form-group">
							  <input name="ssidInput" type="text" onkeyup="setssidInput();"maxlength="32" required="required"/>
							  <label class="control-label" for="input">SSID</label><i class="bar"></i>
							</div>			
							<div class="form-group">
							  <input name="ssidPasswordInput" type="password" maxlength="63" required="required"/>
							  <label class="control-label" for="input">Passwort</label><i class="bar"></i>
							</div>	
						</form>
					</div>
				</div>
			</div>
        </div>
		<!-- ################################################### -->
		<div id="pitmaster_settings" class="content" style="display:none">
			<table class="table_nav" cellpadding="0" cellspacing="0" width="100%" border="0">
				<tr>
				  <td><span onclick="showIndex();"><span class="icon-arrow_left"></span><span class="lang" data-lang="back">Zurück</span></span></td>
				  <td><span onclick="setPitmaster();"><span class="lang" data-lang="save">Speichern</span><span class="icon-arrow_right"></span></span></td>
				</tr>
			</table>
			<div class="float-left text-align-left"><h3 class="headtitle">Pitmaster Einstellungen</h3></div>
			<div class="float-right text-align-right"><span onclick="setHelpBox('Pitmaster Einstellungen',help_pitmaster)" class="icon-question_sign"></span></div>
			<div style="clear:both;"></div>
			<div class="pure-g">
				<div class="pure-u-1-1 pure-u-lg-1-1">
					<div class="1-box channel_conf">
						<form>
							<div class="form-group">
								<select id="pitmaster_typ" onchange="changePitmasterTyp();">
									<option value="off">off</option>
									<option value="auto">auto</option>
									<option value="manual">manual</option>
									<option value="autotune">autotune</option>
								</select>
								<label class="control-label" for="select">Pitmaster</label><i class="bar"></i>
							</div>
							<div id="pitmaster_profile_show">
								<div class="form-group">
									<select onchange="showPitmasterProfile(this.value);" id="pid_profile"><!-- Placeholder --></select>
									<label class="control-label" onchange="changePitmasterView();" for="select">Profil</label></span><i class="bar"></i>
									<span class="icon-pencil icon-form" onclick="togglePitmasterView();">
								</div>					  
							</div>
							<div id="pitmaster_channel_show">
								<div class="form-group">
									<select id="pitmaster_channel"><!-- Placeholder --></select>
									<label class="control-label" for="select">Kanal</label><i class="bar"></i>
								</div>	
							</div>
							<div id="pitmaster_set_show">	
								<div class="form-group">
									<input type="text" id="pitmaster_set" maxlength="5" onkeyup="validateNumber(this,'1');" required="required"/>
									<label class="control-label" for="input">Solltemperatur</label><i class="bar"></i>
								</div>	
							</div>
							<div id="pitmaster_value_show">	
								<div class="form-group">
								  <input type="text" id="pitmaster_value" maxlength="3" onkeyup="validateNumber(this,'1');" required="required"/>
								  <label class="control-label" for="input">Pitmaster-Wert (%)</label><i class="bar"></i>
								</div>
							</div>
						</form>	
					</div>
				</div>
			</div>
		</div>	
		
		<div id="pitmaster_profile" class="content" style="display:none">
			<table class="table_nav" cellpadding="0" cellspacing="0" width="100%" border="0">
				<tr>
				  <td><span onclick="backPidProfile();"><span class="icon-arrow_left"></span><span class="lang" data-lang="back">Zurück</span></span></td>
				  <td><span onclick="setPitmasterProfile();"><span class="lang" data-lang="save">Speichern</span><span class="icon-arrow_right"></span></span></td>
				</tr>
			</table>	
			<div id="aktorik_settings_show">
				<h3 class="headtitle">Aktorik</h3>
				<div class="pure-g">
					<div class="pure-u-1-1 pure-u-lg-1-1">
						<div class="1-box channel_conf">
							<form>
								<div class="form-group">
								  <input type="text" id="pid_name" maxlength="12" required="required"/>
								  <label class="control-label" for="input">Profil Name</label><i class="bar"></i>
								</div>
								<div class="form-group">
									<select id="pitmaster_profile_aktor"></select>
									<label class="control-label" onchange="" for="select">Aktor</label><i class="bar"></i>
								</div>
								<table class="table50" cellpadding="0" cellspacing="0" width="100%" border="0">
									<tr>
									  <td>
										<div class="form-group">
										  <input type="text" id="pid_DCmin" maxlength="4" onkeyup="validateNumber(this,'1');" required="required"/>
										  <label class="control-label" for="input">DCmin [0-100%]</label><i class="bar"></i>
										  <span class="icon-play icon-input" onclick="setDC('0');"></span>
										</div>
									  </td>
									  <td>	
										<div class="form-group">
										  <input type="text" id="pid_DCmax" maxlength="4" onkeyup="validateNumber(this,'1');" required="required"/>
										  <label class="control-label" for="input">DCmax [0-100%]</label><i class="bar"></i>
										  <span class="icon-play icon-input" onclick="setDC('1');"></span>
										</div>							  
									  </td>
									</tr>
								</table>
							</form>	
						</div>
					</div>
				</div>
			</div>
			<div id="pid_settings_show">
				<h3 class="headtitle">PID</h3>
				<div class="pure-g">
					<div class="pure-u-1-1 pure-u-lg-1-1">
						<div class="1-box channel_conf">
							<form>		
								<table class="table33" cellpadding="0" cellspacing="0" width="100%" border="0">
									<tr>
									  <td>
										<div class="form-group">
										  <input type="text" id="pid_Kp" maxlength="10" onkeyup="validateNumber(this,'1');" required="required"/>
										  <label class="control-label" for="input">Kp</label><i class="bar"></i>
										</div>								  	  
									  </td>
									  <td>
										<div class="form-group">
										  <input type="text" id="pid_Ki" maxlength="10" onkeyup="validateNumber(this,'3');" required="required"/>
										  <label class="control-label" for="input">Ki</label><i class="bar"></i>
										</div>								    
									  </td>
									  <td>
										<div class="form-group">
										  <input type="text" id="pid_Kd" maxlength="10" onkeyup="validateNumber(this,'1');" required="required"/>
										  <label class="control-label" for="input">Kd</label><i class="bar"></i>
										</div>								  		  
									  </td>
									</tr>
								</table>
								<table class="table33" cellpadding="0" cellspacing="0" width="100%" border="0">
									<tr>
									  <td>
										<div class="form-group">
										  <input type="text" id="pid_Kp_a" maxlength="10" onkeyup="validateNumber(this,'1');" required="required"/>
										  <label class="control-label" for="input">Kp_a</label><i class="bar"></i>
										</div>
									  </td>
									  <td>
										<div class="form-group">
										  <input type="text" id="pid_Ki_a" maxlength="10" onkeyup="validateNumber(this,'3');" required="required"/>
										  <label class="control-label" for="input">Ki_a</label><i class="bar"></i>
										</div>
									  </td>
									  <td>
										<div class="form-group">
										  <input type="text" id="pid_Kd_a" maxlength="10" onkeyup="validateNumber(this,'1');" required="required"/>
										  <label class="control-label" for="input">Kd_a</label><i class="bar"></i>
										</div>
									  </td>
									</tr>
								</table>
							</form>	
						</div>
					</div>
				</div>
			</div>
        </div>
		<!-- ################################################### -->
		<div id="channel_settings" class="content" style="display:none">
			<table class="table_nav" cellpadding="0" cellspacing="0" width="100%" border="0">
				<tr>
				  <td><span onclick="showIndex();"><span class="icon-arrow_left"></span><span class="lang" data-lang="back">Zurück</span></span></td>
				  <td><span id="channel_settings_save"><span class="lang" data-lang="save">Speichern</span><span class="icon-arrow_right"></span></span></td>
				</tr>
			</table>	
			<div class="float-left text-align-left"><h3 id="channel_settings_headtitle" class="headtitle">N.C.</h3></div>
			<div class="float-right text-align-right"><span onclick="setHelpBox('Kanal Einstellungen',help_channel)" class="icon-question_sign"></span></div>
			<div style="clear:both;"></div>			
            <div class="pure-g">
				<div class="pure-u-1-1 pure-u-md-1-1 pure-u-lg-1-1">
					<div class="1-box channel_conf">
						<form>							
							<div class="form-group">
							  <input type="text" class="temp_input" id="channel_name" maxlength="10" required="required"/>
							  <label class="control-label" for="input">Kanal Name</label><i class="bar"></i>
							</div>
							<div class="form-group">
							  <input class="temp_input" id="temp_max" type="text" onkeyup="validateNumber(this,'1');" maxlength="6" required="required"/>
							  <label class="control-label" for="input">Temp Max</label><i class="bar"></i>
							</div>							
							<div class="form-group">
							  <input class="temp_input" id="temp_min" type="text" onkeyup="validateNumber(this,'1');" maxlength="6" required="required"/>
							  <label class="control-label" for="input">Temp Min</label><i class="bar"></i>
							</div>												
							<div class="form-group">
							  <select id="sensor">
									<!-- Placeholder -->
							  </select>
							  <label class="control-label" for="select">Fühler</label><i class="bar"></i>
							</div>	
							<div class="form-group">
							  <select id="color">
								<option value="#5587A2">Niagara</option>
								<option value="#FFAEC9">Rosa</option>
								<option value="#0C4C88">Lapis Blue</option>
								<option value="#EF562D">Orange</option>
								<option value="#A349A4">Lila</option>
								<option value="#ED1C24">Red</option>
								<option value="#22B14C">Green</option>
								<option value="#FFC100">Gold</option>
								<option value="#5C7148">Kale</option>
								<option value="#804000">Brown</option>
							  </select>
							  <label class="control-label" for="select">Farbe</label><i class="bar"></i>
							</div>	
							<div class="checkbox"><label><input id="pushalarm" type="checkbox" checked="checked"/><i class="helper"></i>Push Alarm</label></div>
							<div class="checkbox"><label><input id="hwalarm" type="checkbox" checked="checked"/><i class="helper"></i>Summer Alarm</label></div>
						</form>
					</div>
				</div>
			</div>
        </div>
		<!-- ################################################### -->
		<div id="system_config" class="content" style="display:none">
			<!-- html for about-Site -->
			<table class="table_nav" cellpadding="0" cellspacing="0" width="100%" border="0">
				<tr>
				  <td><span onclick="showIndex();"><span class="icon-arrow_left"></span><span class="lang" data-lang="back">Zurück</span></span></td>
				  <td><span onclick="setSystem();"><span class="lang" data-lang="save">Speichern</span><span class="icon-arrow_right"></span></span></td>
				</tr>
			</table>
			<div class="float-left text-align-left"><h3 class="headtitle">System Einstellungen</h3></div>
			<div class="float-right text-align-right"><span onclick="setHelpBox('System Einstellungen',help_settings)" class="icon-question_sign"></span></div>
			<div style="clear:both;"></div>
			<div class="pure-g">
				<div class="pure-u-1-1 pure-u-md-1-1 pure-u-lg-1-1">
					<div class="1-box channel_conf">
						<form>							
							<div class="form-group">
							  <input type="text" id="hostname" maxlength="13" required="required"/>
							  <label class="control-label" for="input">Hostname</label><i class="bar"></i>
							</div>
							<div class="form-group">
							  <input type="text" id="apname" maxlength="13" required="required"/>
							  <label class="control-label" for="input">AP-Name</label><i class="bar"></i>
							</div>										
							<div class="form-group">
							  <select id="language">
								<option value="de">Deutsch</option>
								<option value="en">Englisch</option>
							  </select>
							  <label class="control-label" for="select">Sprache</label><i class="bar"></i>
							</div>							
							<div class="form-group">
							  <select id="unit">
								<option value="C">Celsius</option>
								<option value="F">Fahrenheit</option>
							  </select>
							  <label class="control-label" for="select">Einheit</label><i class="bar"></i>
							</div>	
							<div class="form-group">
							  <select id="hwversion"></select><label class="control-label" for="select">Hardwareversion</label><i class="bar"></i>
							</div>
							<div class="checkbox"><label><input id="fastmode" type="checkbox"/><i class="helper"></i>Schnelllauf</label></div>
							<div class="checkbox"><label><input id="searchUpdate" type="checkbox"/><i class="helper"></i>Nach Updates suchen</label></div>								
						</form>
					</div>
				</div>
			</div>
        </div>
		<!-- ################################################### -->
		<div id="extended_settings" class="content" style="display:none">
			<!-- html for about-Site -->
			<table class="table_nav" cellpadding="0" cellspacing="0" width="100%" border="0">
				<tr>
				  <td><span onclick="showIndex();"><span class="icon-arrow_left"></span><span class="lang" data-lang="back">Zurück</span></span></td>
				  <td><span onclick=""><span class="lang" data-lang="save">Speichern</span><span class="icon-arrow_right"></span></span></td>
				</tr>
			</table>
			<h3 class="headtitle">Extended settings</h3>
			<div class="pure-g">
				<div class="pure-u-1-1 pure-u-md-1-1 pure-u-lg-1-1">
					<div class="1-box channel_conf">
						<form>							
							<p class="pure-button pure-button-primary" onclick="restart();">Restart Nano</p>
							<p class="pure-button pure-button-primary" onclick="sethwversion();">Set V2</p>
						</form>
					</div>
				</div>
			</div>
        </div>
		<!-- ################################################### -->

		<div id="thingspeak" class="content" style="display:none">
			<table class="table_nav" cellpadding="0" cellspacing="0" width="100%" border="0">
				<tr>
				  <td><span onclick="showIndex();"><span class="icon-arrow_left"></span><span class="lang" data-lang="back">Zurück</span></span></td>
				  <td><span onclick="setThingspeak();"><span class="lang" data-lang="save">Speichern</span><span class="icon-arrow_right"></span></span></td>
				</tr>
			</table>
			<div class="float-left text-align-left"><h3 class="headtitle">Nano Cloud</h3></div>
			<div class="float-right text-align-right"><span onclick="setHelpBox('Nano Cloud',help_cloud)" class="icon-question_sign"></span></div>
			<div style="clear:both;"></div>
			<div class="pure-g">
				<div class="pure-u-1-1 pure-u-lg-1-1">
					<div class="1-box channel_conf">
						<form>
							<div class="checkbox">
							  <label>
								<input id="CLon" type="checkbox" checked="checked"/><i class="helper"></i>Nano Cloud aktivieren
							  </label>
							</div>
							<div class="form-group">
							  <select id="CLinterval">
								<option value="15">15 Sekunden</option>
								<option value="30">30 Sekunden</option>
								<option value="60">1 Minute</option>
								<option value="120">2 Minuten</option>
								<option value="300">5 Minuten</option>
							  </select>
							  <label class="control-label" for="select">Sendeintervall</label><i class="bar"></i>
							</div>						
							<div class="form-group">
							  <label for="input"><a id="CLtoken" class="link" href="#"></a></label><i class="bar"></i>
							</div>							
							<p class="pure-button pure-button-primary" onclick="newToken();">Token generieren</p>
						</form>
					</div>
				</div>
			</div>		
			<div id="thingsheader">
				<div class="float-left text-align-left"><h3 class="headtitle">Thingspeak</h3></div>
				<div class="float-right text-align-right"><span onclick="setHelpBox('Thingspeak',help_thingspeak)" class="icon-question_sign"></span></div>
				<div style="clear:both;"></div>
				<div class="pure-g">
					<div class="pure-u-1-1 pure-u-lg-1-1">
						<div class="1-box channel_conf">
							<form>							
							  <div class="checkbox">
							    <label>
								  <input id="TSon" type="checkbox" checked="checked"/><i class="helper"></i>Thingspeak aktivieren
							    </label>
							  </div>
							  <div class="form-group">
							    <input type="text" id="TSwrite" maxlength="26" required="required"/>
							    <label class="control-label" for="input">Channel Write API Key</label><i class="bar"></i>
							  </div>
							  <div class="form-group">
							    <input type="text" id="TShttp" maxlength="26" required="required"/>
							    <label class="control-label" for="input">ThingHTTP API Key</label><i class="bar"></i>
							  </div>
							  <div class="form-group">
							    <input type="text" id="TSchID" maxlength="26" required="required"/>
							    <label class="control-label" for="input">Channel ID</label><i class="bar"></i>
							  </div>
							  <div class="form-group">
							    <select id="TSinterval">
								  <option value="30">30 Sekunden</option>
								  <option value="60">1 Minute</option>
								  <option value="120">2 Minuten</option>
								  <option value="300">5 Minuten</option>
							    </select>
							    <label class="control-label" for="select">Sendeintervall</label><i class="bar"></i>
							  </div>
							  <div class="checkbox">
							    <label>
								  <input id="TSshow8" type="checkbox" checked="checked"/><i class="helper"></i>Batterieladezustand anstatt CH8
							    </label>
							  </div>
							</form>
						</div>
					</div>
				</div>
			</div>
			<div id="mqttheader">
				<div class="float-left text-align-left"><h3 class="headtitle">Private MQTT Client</h3></div>
				<div class="float-right text-align-right"><span onclick="setHelpBox('Private MQTT Client',help_mqtt)" class="icon-question_sign"></span></div>
				<div style="clear:both;"></div>
				<div class="pure-g">
					<div class="pure-u-1-1 pure-u-lg-1-1">
						<div class="1-box channel_conf">
							<form>							
							  <div class="checkbox">
							    <label>
								  <input id="PMQon" type="checkbox" checked="checked"/><i class="helper"></i>Private MQTT aktivieren
							    </label>
							  </div>
							  <table class="table50" cellpadding="0" cellspacing="0" width="100%" border="0">
								  <tr>
								    <td>
									  <div class="form-group">
										  <input type="text" id="PMQhost" maxlength="26" required="required"/>
										  <label class="control-label" for="input">MQTT Host</label><i class="bar"></i>
									  </div>
								    </td>
								    <td>
									  <div class="form-group">
										  <input type="text" id="PMQport" maxlength="26" required="required"/>
										  <label class="control-label" for="input">MQTT Port</label><i class="bar"></i>
									  </div>
								    </td>
								  </tr>
								  <tr>
								    <td>
									  <div class="form-group">
										  <input type="text" id="PMQuser" maxlength="26" required="required"/>
										  <label class="control-label" for="input">MQTT User</label><i class="bar"></i>
									  </div>
								    </td>
								    <td>
									  <div class="form-group">
										  <input type="text" id="PMQpass" maxlength="26" required="required"/>
										  <label class="control-label" for="input">MQTT Password</label><i class="bar"></i>
									  </div>
								    </td>
								  </tr>
								  <tr>
								    <td>
									  <div class="form-group">
									    <select id="PMQinterval">
										  <option value="10">10 Sekunden</option>
										  <option value="30">30 Sekunden</option>
										  <option value="60">1 Minute</option>
										  <option value="120">2 Minuten</option>
										  <option value="300">5 Minuten</option>
									    </select>
									    <label class="control-label" for="select">Sendeintervall</label><i class="bar"></i>
									  </div>
								    </td>
								    <td>	
									  <div class="form-group">
									    <select id="PMQqos">
										  <option value="0">0</option>
										  <option value="1">1</option>
										  <option value="2">2</option>
									    </select>
									    <label class="control-label" for="select">QoS</label><i class="bar"></i>
									  </div>
								    </td>
								  </tr>
							  </table>
							</form>
						</div>
					</div>
				</div>
			</div>

        </div>
		<!-- ################################################### -->
		<div id="push_notification" class="content" style="display:none">
			<!-- html for thingspeak-Site -->
			<table class="table_nav" cellpadding="0" cellspacing="0" width="100%" border="0">
				<tr>
				  <td><span onclick="showIndex();"><span class="icon-arrow_left"></span><span class="lang" data-lang="back">Zurück</span></span></td>
				  <td><span onclick="setPushNotification();"><span class="lang" data-lang="save">Speichern</span><span class="icon-arrow_right"></span></span></td>
				</tr>
			</table>
			<div class="float-left text-align-left"><h3 class="headtitle">Push Einstellungen</h3></div>
			<div class="float-right text-align-right"><span onclick="setHelpBox('Push Einstellungen',help_notification)" class="icon-question_sign"></span></div>
			<div style="clear:both;"></div>
			<div class="pure-g">
				<div class="pure-u-1-1 pure-u-lg-1-1">
					<div class="1-box channel_conf">
						<form>	
							<div class="checkbox">
							  <label>
								<input id="TGon" type="checkbox" checked="checked"/><i class="helper"></i>Push-Dienst aktivieren
							  </label>
							</div>						
							<div class="form-group">
							  <input type="text" class="temp_input" id="TGtoken" maxlength="50" required="required"/>
							  <label class="control-label" for="input">API Token/Key</label><i class="bar"></i>
							</div>
							<div class="form-group">
							  <input type="text" class="temp_input" id="TGid" maxlength="30" required="required"/>
							  <label class="control-label" for="input">Chat ID / User Key</label><i class="bar"></i>
							</div>
							<p class="pure-button pure-button-primary" onclick="sendPushNotification();">Testnachricht senden</p>
						</form>
					</div>
				</div>
			</div>
        </div>
		<!-- ################################################### -->
		<div id="about" class="content" style="display:none">
			<table class="table_nav" cellpadding="0" cellspacing="0" width="100%" border="0">
				<tr>
				  <td><span onclick="showIndex();"><span class="icon-arrow_left"></span><span class="lang" data-lang="back">Zurück</span></span></td>
				  <td></td>
				</tr>
			</table>
			<h3 class="headtitle">WlanThermo Team</h3>
			<div class="pure-g">
				<div class="pure-u-1-1  pure-u-md-1-1 pure-u-lg-1-1">
					<div class="1-box channel_conf">
						<table>
							<tr><td>&#10032;&nbsp;Armin Thinnes</td></tr>
							<tr><td>&#10032;&nbsp;Björn Schrader</td></tr>
							<tr><td>&#10032;&nbsp;Alexander Schäfer</td></tr>
							<tr><td>&#10032;&nbsp;Steffen Ochs</td></tr>
							<tr><td onclick="touchStart();">&#10032;&nbsp;Florian Riedl</td></tr>
							<tr><td>&#10032;&nbsp;Maik Kaste</td></tr>
						</table>
					</div>
				</div>
			</div>
        </div>
		<!-- ################################################### -->
		<div id="helpBox" class="helpBox">
			<!-- helpBox content -->
			<div class="helpBox-content">
				<div class="helpBox-header">
					<span class="close" onclick="byId('helpBox').style.display='none'">&times;</span>
					<h2 id="helpBoxTitle">Title</h2>
				</div>
				<div id="helpBoxObject" class="helpBox-body">
				<!-- Placeholder -->
				</div>
			</div>
		</div>
		<!-- ################################################### -->		
    </div>
</div>
<div id="cover">
	<div id="spinner"></div>
</div>
<script>
    // ----------------------------------------------------------------------------------- 
	var byId = function( id ) { return document.getElementById( id ); };
	var byClass = function( id ) { return document.getElementsByClassName( id ); };
	var getIcon = function( icon ) { return '<span class="icon-'  + icon + '"></span>'; };
	byId('index').style.display = "inline";
	var chart_ts;
	var debug = true;
	// -----------------------------------------------------------------------------------
	var help_thingspeak = '<p><span>Kopple deine WLANThermo Nano mit dem ThingSpeak-Dienst und erstelle dir individuelle Anwendungen zur Sensor-Datenanalyse. Ben&ouml;tigt Internetzugang.</span></p><p><span>Siehe auch: </span><a href="https://github.com/WLANThermo-nano/WLANThermo_nano_Software/wiki/ThingSpeak"><span style="color:#3366ff">Wiki - ThingSpeak</span></a></p>';
	var help_wifi = '<p><span>Verbinde dein WLANThermo mit deinem Heimnetzwerk und erweitere somit die Funktionsvielfalt deines WLANThermo.</span></p><p><span>Siehe auch: </span><a href="https://github.com/WLANThermo-nano/WLANThermo_nano_Software/wiki/WLAN"><span style="color:#3366ff">Wiki - WLAN</span></a></p>';
	var help_settings = '<p><span>Konfiguriere dein WLANThermo Nano mit Hilfe der Systemeinstellungen und mach es zu DEINEM WLANThermo.</span></p><p><span>Siehe auch: </span><a href="https://github.com/WLANThermo-nano/WLANThermo_nano_Software/wiki/System-Einstellungen"><span style="color:#3366ff">Wiki - System</span></a></p>';
	var help_pitmaster = '<p><span>Willst du deine Grilltemperaturen nicht nur beobachten, sondern auch regeln? Dann besorge dir die passende Pitmaster-Hardware und leg los. Ben&ouml;tigt Pitmaster-Hardware.</span></p><p><span>Siehe auch: </span><a href="https://github.com/WLANThermo-nano/WLANThermo_nano_Software/wiki/Pitmaster"><span style="color:#3366ff">Wiki - Pitmaster</span></a></p>';
	var help_notification = '<p><span>Lass dich bei einem Kanalalarm mit einer Push-Nachricht über den Nachrichtendienst Telegramm oder den Notification-Dienst Pushover benachrichtigen. Ben&ouml;tigt Internetzugang.</span></p><p><span>Siehe auch: </span><a href="https://github.com/WLANThermo-nano/WLANThermo_nano_Software/wiki/Push-Notification"><span style="color:#3366ff">Wiki - Notification</span></a></p>';
	var help_mqtt = '<p><span>Kopple dein WLANThermo Nano mit deiner Homeautomatic und nutze dafür die MQTT-Schnittstelle deines WLANThermo. Ben&ouml;tigt einen MQTT-Broker.</span></p><p><span>Siehe auch: </span><a href="https://github.com/WLANThermo-nano/WLANThermo_nano_Software/wiki/Private-MQTT"><span style="color:#3366ff">Wiki - Private-MQTT</span></a></p>';
	var help_cloud = '<p><span>Der Nano Cloud Service erm&ouml;glicht dir den gesch&uuml;tzten Zugriff auf deine Temperaturdaten auch au&szlig;erhalb deines Heim-Netzwerks. Ben&ouml;tigt Internetzugang. </span></p><p><span>Siehe auch: </span><a href="https://github.com/WLANThermo-nano/WLANThermo_nano_Software/wiki/Nano-Cloud-Service"><span style="color:#3366ff">Wiki - Nano Cloud</span></a></p>';
	var help_channel = '<p><span>Mit Hilfe der Kanal-Einstellungen passt du den Messkanal an den angeschlossenen F&uuml;hler an. Zus&auml;tzlich kannst du Grenzwerte für die Alarmfunktion vorgeben.</span></p><p><span>Siehe auch: </span><a href="https://github.com/WLANThermo-nano/WLANThermo_nano_Software/wiki/Kanal-Einstellungen"><span style="color:#3366ff">Wiki - Kanal</span></a></p>';
	// -----------------------------------------------------------------------------------
	(function (window, document) {
		var layout = byId('layout'),menu = byId('menu'),menuLink = byId('menuLink'),menuHome = byId('menuHome'),menuPitmaster = byId('menuPitmaster'),menuNotification = byId('menuNotification'),menuWlan = byId('menuWlan'),menuSystem = byId('menuSystem'),menuThingspeak = byId('menuThingspeak'),menuAbout = byId('menuAbout'),content  = byId('main');
		function toggleClass(element, className) {
			var classes = element.className.split(/\s+/), length = classes.length, i = 0;
			for(; i < length; i++) {
			  if (classes[i] === className) {
				classes.splice(i, 1);
				break;
			  }
			}
			// The className is not found
			if (length === classes.length) {
				classes.push(className);
			}
			element.className = classes.join(' ');
		}

		function toggleAll(e) {
			var active = 'active';
			e.preventDefault();
			toggleClass(layout, active);
			toggleClass(menu, active);
			toggleClass(menuLink, active);
		}

		menuLink.onclick = function (e) {toggleAll(e);};
		menuHome.onclick = function (e) {if (menu.className.indexOf('active') !== -1) {toggleAll(e);showIndex();}};
		menuWlan.onclick = function (e) {if (menu.className.indexOf('active') !== -1) {toggleAll(e);showWLAN();}};
		menuThingspeak.onclick = function (e) {if (menu.className.indexOf('active') !== -1) {toggleAll(e);showThingspeak();}};
		menuPitmaster.onclick = function (e) {if (menu.className.indexOf('active') !== -1) {toggleAll(e);showPitmaster();}};
		menuNotification.onclick = function (e) {if (menu.className.indexOf('active') !== -1) {toggleAll(e);showPushNotification();}};
		menuSystem.onclick = function (e) {if (menu.className.indexOf('active') !== -1) {toggleAll(e);showSystem();}};
		menuAbout.onclick = function (e) {if (menu.className.indexOf('active') !== -1) {toggleAll(e);showAbout();}};
		content.onclick = function(e) {if (menu.className.indexOf('active') !== -1) {toggleAll(e);}};
	}(this, this.document));

	document.addEventListener("DOMContentLoaded", function(event) { 
		setThermoName();
		setInterval("readTemp();", 2000);
	});
	
	function showWLAN(){
		hideAll();
		byId('wlan_config').style.display = "inline";
		networklist();
		networkscan();
	}
	
	function wlan_active(){
		if(byId('wlan_active').checked){
	
		}else{
			txt = 'Soll die Wifi-Verbindung bis zum nächsten Restart des Systems wirklich abgeschaltet werden?';
			if (confirm(txt) == true) {
				loadJSON('stopwifi', '', '60000', function (response) {
                  if(response == 'true'){      
                    self.location.href='about:blank'
                  }
                });
			} else {
				byId('wlan_active').checked = true;
			}
		}
	}
	
	function clearWifi(){
		txt = 'Sollen wirklich alle Netzwerkverbindungsdaten gelöscht werden?\nNano startet danach im AP-Modus neu.';
		if (confirm(txt) == true) {
			loadJSON('clearwifi', '', '60000', function (response) {
                if(response == 'true'){      
                   self.location.href='about:blank'
                }
			});
        }
	}
	
	function showThingspeak(){
		hideAll();
		showLoader('true');
		loadJSON('settings', '', '3000', function (response) {
			jr = JSON.parse(response);
			byId('TSon').checked = jr.iot.TSon;
			byId('TSwrite').value = jr.iot.TSwrite;
			byId('TShttp').value = jr.iot.TShttp;
			byId('TSchID').value = jr.iot.TSchID;
			byId('TSinterval').value = jr.iot.TSint;
			byId('TSshow8').checked = jr.iot.TSshow8;
			byId('PMQon').checked = jr.iot.PMQon;
			byId('PMQhost').value = jr.iot.PMQhost;
			byId('PMQport').value = jr.iot.PMQport;
			byId('PMQuser').value = jr.iot.PMQuser;
			byId('PMQpass').value = jr.iot.PMQpass;
			byId('PMQqos').value = jr.iot.PMQqos;
			byId('PMQinterval').value = jr.iot.PMQint;
			byId('CLon').checked = jr.iot.CLon;
			byId('CLinterval').value = jr.iot.CLint;
			byId('CLtoken').innerHTML = "https://cloud.wlanthermo.de/index.html?api_token=" + jr.iot.CLtoken;			
			byId("CLtoken").setAttribute("href", "https://cloud.wlanthermo.de/index.html?api_token=" + jr.iot.CLtoken);
			byId('thingspeak').style.display = "inline";
			byId('thingsheader').style.display = "inline";
			byId('mqttheader').style.display = "inline";
			showLoader('false');
		})	
	}	

	function newToken(){
		showLoader('true');
		loadJSON('newtoken', '', '3000', function (response){
		byId('CLtoken').innerHTML = "https://cloud.wlanthermo.de/index.html?api_token=" + response;			
		byId("CLtoken").setAttribute("href", "https://cloud.wlanthermo.de/index.html?api_token=" + response);
			showLoader('false');
		})
	}
	
	function setThingspeak(){
		showLoader('true');
		loadJSON('settings', '', '3000', function (response){
			jr = JSON.parse(response);
			jr.iot.TSon = byId('TSon').checked;
			jr.iot.TSwrite = byId('TSwrite').value;
			jr.iot.TShttp = byId('TShttp').value;
			jr.iot.TSchID = byId('TSchID').value;
			jr.iot.TSint = byId('TSinterval').value;
			jr.iot.TSshow8 = byId('TSshow8').checked;
			jr.iot.PMQon = byId('PMQon').checked;
			jr.iot.PMQhost = byId('PMQhost').value;
			jr.iot.PMQport = byId('PMQport').value;
			jr.iot.PMQuser = byId('PMQuser').value;
			jr.iot.PMQpass = byId('PMQpass').value;
			jr.iot.PMQqos = byId('PMQqos').value;
			jr.iot.PMQint = byId('PMQinterval').value;
			jr.iot.CLon = byId('CLon').checked;
			jr.iot.CLtoken = byId('CLtoken').value;
			jr.iot.CLint = byId('CLinterval').value;
			var data = JSON.stringify(jr.iot);
			showLoader('true');
			loadJSON('setIoT', data, '60000', function (response) {
				showIndex();
				showLoader('false');
			})		
		})
	}
	// -----------------------------------------------------------------------------------	
	function showPushNotification(){
		hideAll();
		showLoader('true');
		loadJSON('settings', '', '3000', function (response) {
			jr = JSON.parse(response);
			byId('TGon').checked = jr.iot.TGon;
			byId('TGtoken').value = jr.iot.TGtoken;
			byId('TGid').value = jr.iot.TGid;
			byId('push_notification').style.display = "inline";
			showLoader('false');
		})				
	}

	function setPushNotification(){
		showLoader('true');
		loadJSON('settings', '', '3000', function (response){
			jr = JSON.parse(response);
			jr.iot.TGon = byId('TGon').checked;
			jr.iot.TGtoken = byId('TGtoken').value;
			jr.iot.TGid = byId('TGid').value;
			var data = JSON.stringify(jr.iot);
			showLoader('true');
			loadJSON('setIoT', data, '60000', function (response) {
				showIndex();
				showLoader('false');
			})		
		})
	}

	function sendPushNotification(){
		data = '?token=' + byId('TGtoken').value + '&id=' + byId('TGid').value;
		loadJSON('message' + data, '', '60000', function (response) {
			//alert(data);
		})	
	}
	// -----------------------------------------------------------------------------------		
	function showSetWLAN(){
		hideAll();
		byId('wlan_set').style.display = "inline";
	}	

	// -----------------------------------------------------------------------------------	
	function showSetChannel(channel){
		console.log('Channel:' + channel);
        hideAll();
        showLoader('true');
        loadJSON('settings', '', '3000', function (response) {
            jr = JSON.parse(response);
            clearOption('sensor');
            for (var i = 0; i < jr.sensors.length; i++) {
                byId('sensor').options[byId('sensor').options.length] = new Option(jr.sensors[i], i);
            }
            loadJSON('data', '', '3000', function (response) {
                jr = JSON.parse(response);
                byId('channel_settings_save').setAttribute('onclick','setChannel(' + channel + ');');
                byId('channel_settings_headtitle').innerHTML  = jr.channel[channel].name;
                byId('channel_name').value  = jr.channel[channel].name;
                byId('temp_max').value  = jr.channel[channel].max;
                byId('temp_min').value  = jr.channel[channel].min;
                byId('color').value = jr.channel[channel].color;
                byId('sensor').value = jr.channel[channel].typ;
                switch(jr.channel[channel].alarm) {
					case 0:
						byId('pushalarm').checked = false;
						byId('hwalarm').checked = false;
						break;
					case 1:
						byId('pushalarm').checked = true;
						byId('hwalarm').checked = false;
						break;
					case 2:
						byId('pushalarm').checked = false;
						byId('hwalarm').checked = true;
						break;
					case 3:
						byId('pushalarm').checked = true;
						byId('hwalarm').checked = true;
						break;
				} 				                
				byId('channel_settings').style.display = "inline";
                showLoader('false');
            })
        })
    }

	function setChannel(channel){
		showLoader('true');
		loadJSON('data', '', '3000', function (response) {
			jr = JSON.parse(response);
			jr.channel[channel].min = byId('temp_min').value;
			jr.channel[channel].max = byId('temp_max').value;
			jr.channel[channel].name = byId('channel_name').value;
			jr.channel[channel].typ = byId('sensor').value;
			var push = 0;
			if(byId('pushalarm').checked == false && byId('hwalarm').checked == false){
				push = 0;
			}else if(byId('pushalarm').checked == true && byId('hwalarm').checked == false){
				push = 1;
			}else if(byId('pushalarm').checked == false && byId('hwalarm').checked == true){
				push = 2;
			}else if(byId('pushalarm').checked == true && byId('hwalarm').checked == true){
				push = 3;
			}
			jr.channel[channel].alarm = push;
			jr.channel[channel].color = byId('color').value;
			var data = JSON.stringify(jr.channel[channel]);
			showLoader('true');
			loadJSON('setchannels', data, '60000', function (response) {
				showIndex();
				showLoader('false');
			})		
		})	
	}
	// -----------------------------------------------------------------------------------		
	function clearOption(id){
		var selectbox = document.getElementById(id);
		var i;
		for(i = selectbox.options.length - 1 ; i >= 0 ; i--){
			selectbox.remove(i);
		}
	}
	// -----------------------------------------------------------------------------------		
	function setWLAN(ssid, passwd){
		showLoader('true');
		var data='{"ssid":"' + ssid + '","password":"' + passwd + '"}';
		loadJSON('setnetwork', data, '60000', function (response) {
			showWLAN();
			showLoader('false');
		})
		
	}	
	// -----------------------------------------------------------------------------------		
	function setThermoName(){
		showLoader('true');	
		$.ajax({
			dataType: 'json',
			url: "settings",
			error: function(){
				setTimeout(function(){setThermoName(); }, 1000); 
			},
			success: function(jr){
				byId('thermoname').innerHTML = jr.system.host;
				translateView(jr.system.language);
				if(jr.iot.CLon === true){
					cloud_token = jr.iot.CLtoken;
				}			
				if(jr.system.getupdate == 'false'){
					byClass("notification")[0].style.display = "none";
				}else{
					byClass("notification")[0].style.display = "inline";
				}
				showLoader('false');
			},
			timeout: 3000 // sets timeout to 3 seconds
		});
	}
	// -----------------------------------------------------------------------------------		
	var updateActivated = 'false';
	function checkUpdateActivated(){
		loadJSON('updatestatus', '', '3000', function (response) {
			jr = JSON.parse(response);
			if (jr == true){
				showLoader('true');
			}else if (jr == false){
				showLoader('false')
				updateActivated = 'false';
				byClass("notification")[0].style.display = "none";
				location.reload(true);
			}
		})	
	}
	// -----------------------------------------------------------------------------------		
	var dcActivated = 'false';
	function checkDCActivated(){
		loadJSON('dcstatus', '', '3000', function (response) {
			jr = JSON.parse(response);
			if (jr == true){
				showLoader('true');
			}else if (jr == false){
				showLoader('false')
				dcActivated = 'false';
			}
		})	
	}
	// -----------------------------------------------------------------------------------		
	function showLoader(show){
		if (show == 'true') {
			byId('cover').classList.add("cover_active");
			byId('spinner').classList.add("spinner");		
		}else{
			byId('cover').classList.remove("cover_active");
			byId('spinner').classList.remove("spinner");
		}
	}
	// -----------------------------------------------------------------------------------		
	function update(){
		loadJSON('settings', '', '3000', function (response) {
			jr = JSON.parse(response);
			txt = 'Wollen Sie das aktuelle Update Installieren?\n\nAktuelle Version:' + jr.system.version + '\nNeue Version:' + jr.system.getupdate;
			if (confirm(txt) == true) {
				loadJSON('update', '', '60000', function (response) {
					showLoader('true');
					updateActivated = 'true';
				});
			}						
		})	
	}
	// -----------------------------------------------------------------------------------		
	function showSystem(){
		hideAll();
		showLoader('true');
		loadJSON('settings', '', '3000', function (response) {
			jr = JSON.parse(response);
			byId('language').value = jr.system.language;
			byId('hostname').value = jr.system.host;
			byId('apname').value = jr.system.ap;
			byId('thermoname').innerHTML = jr.system.host;
			byId('unit').value = jr.system.unit;
			byId('fastmode').checked = jr.system.fastmode;
			byId('searchUpdate').checked = jr.system.autoupd;
			clearOption('hwversion');
			for (var i = 0; i < jr.hardware.length; i++) {
				byId('hwversion').options[byId('hwversion').options.length] = new Option(jr.hardware[i], jr.hardware[i]);
			}
			byId('hwversion').value = jr.system.hwversion;
			byId('system_config').style.display = "inline";
			showLoader('false');
		})
	}
	
	function setSystem(){
		showLoader('true');
		loadJSON('settings', '', '3000', function (response) {
			jr = JSON.parse(response);
			jr.system.host = byId('hostname').value.replace(/ /g, '_');
			jr.system.ap = byId('apname').value.replace(/ /g, '_');
			jr.system.hwversion = byId('hwversion').value;
			jr.system.language = byId('language').value;
			jr.system.unit = byId('unit').value;
			jr.system.fastmode = byId('fastmode').checked;		
			jr.system.autoupd = byId('searchUpdate').checked;			
			var data = JSON.stringify(jr.system);
			showLoader('true');
			loadJSON('setsystem', data, '60000', function (response) {
				byId('thermoname').innerHTML = jr.system.host;
				showIndex();
				showLoader('false');
			})		
		})	
	}
	// -----------------------------------------------------------------------------------		
	function showPitmaster(){		
		hideAll();
		showLoader('true');
		loadJSON('data', '', '3000', function (response) {
			jr = JSON.parse(response);
			pitID = 0;	// Pitmaster1
			byId('pitmaster_typ').value = jr.pitmaster[pitID].typ;
			clearOption('pitmaster_channel');
			for (var i = 0; i < jr.channel.length; i++) {
				byId('pitmaster_channel').options[byId('pitmaster_channel').options.length] = new Option('#' + jr.channel[i].number + ' - ' + jr.channel[i].name, jr.channel[i].number);
			}
			byId('pitmaster_channel').value = jr.pitmaster[pitID].channel;
			byId('pitmaster_set').value = jr.pitmaster[pitID].set;
			byId('pitmaster_value').value = jr.pitmaster[pitID].value;
			byId('pitmaster_settings').style.display = "inline";
			showLoader('false');
			showPitmasterProfile(jr.pitmaster[pitID].pid);
			changePitmasterTyp();
		})
	}
	function changePitmasterTyp(){		
		switch(byId('pitmaster_typ').value) {
			case 'off':
				byId('pitmaster_value_show').style.display = "none";
				byId('pitmaster_channel_show').style.display = "none";
				byId('pitmaster_set_show').style.display = "none";
				byId('pitmaster_profile_show').style.display = "none";
				byId('pid_settings_show').style.display = "none";
				break;
			case 'manual':
				byId('pitmaster_value_show').style.display = "inline";	
				byId('pitmaster_channel_show').style.display = "none";
				byId('pitmaster_set_show').style.display = "none";
				byId('pitmaster_profile_show').style.display = "inline";
				byId('pid_settings_show').style.display = "none";

				break;
			case 'autotune':
				byId('pitmaster_profile_show').style.display = "inline";
				byId('pitmaster_value_show').style.display = "none";
				byId('pitmaster_channel_show').style.display = "inline";
				byId('pitmaster_set_show').style.display = "inline";
				byId('pid_settings_show').style.display = "none";				
				break;
			case 'auto':
				byId('pitmaster_profile_show').style.display = "inline";
				byId('pitmaster_value_show').style.display = "none";
				byId('pitmaster_channel_show').style.display = "inline";
				byId('pitmaster_set_show').style.display = "inline";			
				byId('pid_settings_show').style.display = "inline";
				break;
			default:
				byId('pitmaster_profile_show').style.display = "inline";
				byId('pitmaster_value_show').style.display = "inline";
				byId('pitmaster_channel_show').style.display = "inline";
				byId('pitmaster_set_show').style.display = "inline";
				byId('pid_settings_show').style.display = "inline";
		} 		
	}
	function setPitmaster(){
		showLoader('true');
		loadJSON('data', '', '3000', function (response) {
			jr = JSON.parse(response);
			pitID = 0;	// Pitmaster1
			jr.pitmaster[pitID].typ = byId('pitmaster_typ').value;
			jr.pitmaster[pitID].channel = byId('pitmaster_channel').value;
			jr.pitmaster[pitID].set = byId('pitmaster_set').value;
			jr.pitmaster[pitID].value = byId('pitmaster_value').value
			jr.pitmaster[pitID].pid = byId('pid_profile').value
			var data = JSON.stringify(jr.pitmaster);
			loadJSON('setpitmaster', data, '60000', function (response) {
				showIndex();
				showLoader('false');
			})	
		})
		showLoader('false');		
	}
	
	function showPitmasterProfile(profile){
		showLoader('true');
		loadJSON('settings', '', '3000', function (response) {
			jr = JSON.parse(response);
			clearOption('pitmaster_profile_aktor');
			clearOption('pid_profile');
			for (var i = 0; i < jr.pid.length; i++) {
				byId('pid_profile').options[byId('pid_profile').options.length] = new Option(jr.pid[i].name, i);
			}
			byId('pid_profile').value = profile;	
			for (var i = 0; i < jr.aktor.length; i++) {
				byId('pitmaster_profile_aktor').options[byId('pitmaster_profile_aktor').options.length] = new Option(jr.aktor[i], i);
			}
			byId('pitmaster_profile_aktor').value = jr.pid[profile].aktor;
			byId('pid_name').value = jr.pid[profile].name;	
			byId('pid_Kp').value = jr.pid[profile].Kp;	
			byId('pid_Ki').value = jr.pid[profile].Ki;
			byId('pid_Kd').value = jr.pid[profile].Kd;
			byId('pid_Kp_a').value = jr.pid[profile].Kp_a;
			byId('pid_Ki_a').value = jr.pid[profile].Ki_a;
			byId('pid_Kd_a').value = jr.pid[profile].Kd_a;
			byId('pid_DCmin').value = jr.pid[profile].DCmmin;
			byId('pid_DCmax').value = jr.pid[profile].DCmmax;
			showLoader('false');
		})			
	}
	
	function togglePitmasterView(){
		if(byId('pitmaster_settings').style.display == "inline"){
			byId('pitmaster_settings').style.display = "none";
			byId('pitmaster_profile').style.display = "inline";		
		}else{
			showPitmasterProfile(byId('pid_profile').value);
			byId('pitmaster_settings').style.display = "inline";
			byId('pitmaster_profile').style.display = "none";	
		}
	}

	function backPidProfile(){
		togglePitmasterView();
	}
	
	function setPitmasterProfile(){
		loadJSON('settings', '', '3000', function (response) {
			jr = JSON.parse(response);
			profile = byId('pid_profile').value;
			jr.pid[profile].aktor = byId('pitmaster_profile_aktor').value;
			jr.pid[profile].name = byId('pid_name').value;
			jr.pid[profile].Kp = byId('pid_Kp').value;
			jr.pid[profile].Ki = byId('pid_Ki').value;
			jr.pid[profile].Kd = byId('pid_Kd').value;
			jr.pid[profile].Kp_a = byId('pid_Kp_a').value;
			jr.pid[profile].Ki_a = byId('pid_Ki_a').value;
			jr.pid[profile].Kd_a = byId('pid_Kd_a').value;
			jr.pid[profile].DCmmin = byId('pid_DCmin').value;
			jr.pid[profile].DCmmax = byId('pid_DCmax').value;
			var data = JSON.stringify(jr.pid);
			loadJSON('setpid', data, '60000', function (response) {
				togglePitmasterView();
			})	
		})
		showLoader('false');	
	}
	
	function setDC(dc){
		if(dc == '0'){
			var_val = byId('pid_DCmin').value;
		}else{
			var_val = byId('pid_DCmax').value;
		}
		txt = 'Soll der Pitmasterausgang für 10 Sekunden mit dem angegebenen Wert angesteuert werden?';
		if (confirm(txt) == true) {
			data = '?aktor=' + byId('pitmaster_profile_aktor').value + '&dc=' + dc + '&val=' + var_val*10;
			loadJSON('setDC' + data, '', '60000', function (response) {
				showLoader('true');
				dcActivated = 'true';
			})	
		}		
	}	
	// -----------------------------------------------------------------------------------	
	function showIndex(){
		hideAll();
		byId('index').style.display = "inline";
	}
	// -----------------------------------------------------------------------------------	
	function showAbout(){
		hideAll();
		byId('about').style.display = "inline";
	}	
	// -----------------------------------------------------------------------------------
	function hideAll(){
		hideIDs = ['index','wlan_config','system_config','system_config','about','wlan_set','thingspeak','push_notification','channel_settings','pitmaster_settings','pitmaster_profile','extended_settings'];
		for (var i = 0; i < hideIDs.length; i++) {
			byId(hideIDs[i]).style.display = "none";
		}
	}
	// -----------------------------------------------------------------------------------	
    function loadJSON(url, data, timeout, callback) {
        var xobj = new XMLHttpRequest();
        xobj.overrideMimeType("application/json");
        xobj.open('POST', url, true);
        xobj.setRequestHeader("Content-Type", "application/json");
		xobj.timeout = timeout;
        xobj.onreadystatechange = function () {
            if (xobj.readyState == 4 && xobj.status == "200") {
                callback(xobj.responseText);
            }
        }
		xobj.ontimeout = function (e) {
			if (updateActivated != 'true'){
				showLoader('false');
			}
		};
        xobj.send(data);
    }
	
	var showBatteryWlanIcon = true;
	
	function setshowBatteryWlanIcon(){
		showBatteryWlanIcon = false;
		readTemp();
		setTimeout(function(){
			showBatteryWlanIcon = true;
        }, 10000);
	}
	
	function getBatteryIcon(percent,charge){
		data = '';
		if (showBatteryWlanIcon == true){
			if(charge == true){
				data = '<span class="icon-power-cord"> </span>';
			}else{
				data = '';
			}
			if (percent >= '90'){
				data = data + getIcon('battery-100');
			}else if (percent >= '75'){
				data = data + getIcon('battery-75');
			}else if (percent >= '50'){
				data = data + getIcon('battery-50');
			}else if (percent >= '15'){
				data = data + getIcon('battery-25');
			}else if (percent >= '10'){
				data = data + getIcon('battery-0');
			}else{
				data = data + getIcon('battery-0 icon-blinker');
			}
			return data + '&nbsp;';
		}else{
			if(charge == true){
				data = getIcon('power-cord');
			}else{
				data = '';
			}
			data = data + percent + '%';
			return data + '&nbsp;';
		}
	}
	
	function getRSSIIcon(dbm){
		data = '';
		if (showBatteryWlanIcon == true){
			if(dbm >= '-80'){
				data = data + getIcon('Wlan100');
			}else if (dbm >= '-95'){
				data = data + getIcon('Wlan66');
			}else if (dbm >= '-105'){
				data = data + getIcon('Wlan33');
			}
			return data;	
		}else{
			data = dbm + 'dBm';
			return data;		
		}
	}

	function getWifiSecureIcon(data){
		var lock = getIcon('lock');
		var unlock = getIcon('unlock');
		switch(data) {
			case 2: //ENC_TYPE_TKIP - WPA / PSK
				return lock;
				break;
			case 4: //ENC_TYPE_CCMP - WPA2 / PSK
				return lock;
				break;
			case 5: //ENC_TYPE_WEP - WEP
				return lock;
				break;
			case 7: //ENC_TYPE_NONE - open network
				return unlock;
			break;
			case 8:	//ENC_TYPE_AUTO - WPA / WPA2 / PSK
				return lock;
				break;	
			default:
				return lock;
		} 
	}

	// Initialized Channels
	// -----------------------------------------------------------------------------------
	var channel_init = false;
	var channel_count = false;
	var pit_count = 15;
	
	function addChannel(number){
		if(debug === true){console.log('function addChannel number:' + number);}
		for (i = 0; i < number; i++) {
			$( ".channel_template:first" ).children().clone().appendTo(".channel_index:last");
			$(".channel_index").children().last().addClass("temp_index");
				$(".channel_index").children().last().click(function () { 
					showSetChannel($(this).index());
					  
				});
		}
		channel_init = true;
		if(debug === true){console.log('channel_init:' + channel_init );}
		channel_count = number;
		if(debug === true){console.log('channel_count:' + number );}
	}
	
	function removeChannel(number){
		for (i = 0; i < number; i++) {
			$(".channel_index").children().last().remove();
		}
	}
	
	function readTemp(){
		if (updateActivated == 'true'){
				checkUpdateActivated();
		}else if (dcActivated == 'true') {
				checkDCActivated();
		}else{
			loadJSON('data', '', '3000', function (response) {
				jr = JSON.parse(response);
				
				if(channel_init === false){addChannel(jr.channel.length);}
				if(nanoChart === false && cloud_token !== false){addChartDataset(jr.channel.length,cloud_token);}
				
				BatteryIcon = getBatteryIcon(jr.system.soc,jr.system.charge);
				byClass("battery")[0].innerHTML = BatteryIcon;
				RSSIIcon = getRSSIIcon(jr.system.rssi);
				byClass("wifi")[0].innerHTML = RSSIIcon;
				var x = byClass("pure-u-1-1 pure-u-md-1-2 pure-u-xl-1-4 temp_index");
				var i;
				var pitID = 0;
				var ch_count = 0;
				for (i = 0; i < x.length; i++) {
					x[i].getElementsByClassName('1-box channel')[0].style.borderColor = jr.channel[i].color;
					x[i].getElementsByClassName('chtitle')[0].innerHTML = jr.channel[i].name;
					if(jr.pitmaster[pitID].typ == 'auto' || jr.pitmaster[pitID].typ == 'autotune'){
						if (jr.pitmaster[pitID].channel == jr.channel[i].number){
							var a = getIcon('uniF2C7') + jr.pitmaster[pitID].set + '°' + ' / ';
							var e = ' ' + jr.pitmaster[pitID].value + '%';
							if(jr.pitmaster[pitID].value == '0'){
								x[i].getElementsByClassName('chtitle')[0].innerHTML = a + getIcon('fan') + ' ' + jr.pitmaster[pitID].value + '%';
							}else if (jr.pitmaster[pitID].value <= '25'){
								x[i].getElementsByClassName('chtitle')[0].innerHTML = a + getIcon('fan icon-rotate-25') + e;
							}else if (jr.pitmaster[pitID].value <= '50'){
								x[i].getElementsByClassName('chtitle')[0].innerHTML = a + getIcon('fan icon-rotate-50') + e;
							}else if (jr.pitmaster[pitID].value <= '75'){
								x[i].getElementsByClassName('chtitle')[0].innerHTML = a + getIcon('fan icon-rotate-75') + e;
							}else if (jr.pitmaster[pitID].value <= '100'){
								x[i].getElementsByClassName('chtitle')[0].innerHTML = a + getIcon('fan icon-rotate-100') + e;
							}
						}else{
							x[i].getElementsByClassName('chtitle')[0].innerHTML = jr.channel[i].name;
						}
					}else{
						x[i].getElementsByClassName('chtitle')[0].innerHTML = jr.channel[i].name;
					}
					x[i].getElementsByClassName('chnumber')[0].innerHTML = "#" + jr.channel[i].number;
					x[i].getElementsByClassName('tempmin')[0].innerHTML = getIcon('temp_down') + jr.channel[i].min + "°";
					x[i].getElementsByClassName('tempmax')[0].innerHTML = getIcon('temp_up') + jr.channel[i].max + "°";
					if (jr.channel[i].temp == '999'){
						x[i].style.display = 'none';
						x[i].getElementsByClassName('temp')[0].innerHTML = 'OFF';
						x[i].getElementsByClassName('temp')[0].style.color = "#FFFFFF";		
						x[i].getElementsByClassName('temp')[0].style.fontWeight = 'normal';
					}else{
						ch_count++;
						x[i].style.display = 'inline';
						x[i].getElementsByClassName('temp')[0].innerHTML = jr.channel[i].temp.toFixed(1) + "°" + jr.system.unit;
						if (jr.channel[i].temp < jr.channel[i].min){
							x[i].getElementsByClassName('temp')[0].style.color = "#1874cd";
							x[i].getElementsByClassName('temp')[0].style.fontWeight = 'bold';
						}else if (jr.channel[i].temp > jr.channel[i].max){
							x[i].getElementsByClassName('temp')[0].style.color = "red";
							x[i].getElementsByClassName('temp')[0].style.fontWeight = 'bold';
						}else{
							x[i].getElementsByClassName('temp')[0].style.color = "#FFFFFF";
							x[i].getElementsByClassName('temp')[0].style.fontWeight = 'normal';
						}
					}
				}
				
				if(chart_init === true){
					if(pit_count >= 15){
						pit_count =0;
						addData(timeConverter(jr.system.time),jr,true);
						chart_ts = jr.system.time;
					}else{
						pit_count++;
					}				
				}
				
				if (ch_count == 0){
					for (i = 0; i < x.length; i++) {
						x[i].style.display = 'inline';
					}
				}
			})
		}
	}
	// -----------------------------------------------------------------------------------		
	function networkscan(){
		loadJSON('networkscan', '', '3000', function (response) {
			byId('networkrefresh').innerHTML = '<h3><span class="icon-refresh icon-rotate-50" onclick="networkscan();"></span></h3>'
			if (response == "OK"){
				setTimeout("networklist();", 3000);
			}
		})
	}
	
	function networklist(){
		loadJSON('networklist', '', '3000', function (response) {
			jr = JSON.parse(response);
			byId('networklist').innerHTML = '';
			byId('networkconnect').innerHTML = '';
			var table_networklist = byId('networklist');
			var table_networkconnect = byId('networkconnect');
			if (jr.Connect){			
				byId('hr_wifi').style.display = "";
				var row = table_networkconnect.insertRow(0);
				addCell(row,getIcon('ok'),'row-Check','0');
				addCell(row,jr.SSID,'row-SSID','1');
				addCell(row,getRSSIIcon(jr.RSSI),'row-RSSI','2');
				addCell(row,getWifiSecureIcon(jr.Enc),'row-Enc','3');
				addCell(row,'','row-link','4');
			}else{
				byId('hr_wifi').style.display = "none";
			}
			NetworkconnectRowClick();
			for (var i = 0; i < jr.Scan.length; i++) {
				var row = table_networklist.insertRow(-1);
				addCell(row,'','row-Check','0');
				addCell(row,jr.Scan[i].SSID,'row-SSID','1');
				addCell(row,getRSSIIcon(jr.Scan[i].RSSI),'row-RSSI','2');
				addCell(row,getWifiSecureIcon(jr.Scan[i].Enc),'row-Enc','3');
				addCell(row,getIcon('circle-right'),'row-link','4');
			}
			byId('networkrefresh').innerHTML = '<h3><span class="icon-refresh" onclick="networkscan();"></span></h3>'
			NetworklistRowClick();
		})
	}
	function addCell(row,cellinnerHtml,cellClass,nr){
		var cell = row.insertCell(nr);
		cell.innerHTML = cellinnerHtml;
		cell.className = cellClass;
	}
	
	var ssidInput;
	function NetworklistRowClick() {
		var table = document.getElementById("networklist");
		var rows = table.rows; // or table.getElementsByTagName("tr");
		for (var i = 0; i < rows.length; i++) {
			rows[i].onclick = (function() { // closure
				var cnt = i; // save the counter to use in the function
				return function() {
					document.getElementsByName('ssidInput')[0].value = this.cells[1].innerHTML;
					document.getElementsByName('ssidPasswordInput')[0].value = null;
					ssidInput = this.cells[1].innerHTML;
					showSetWLAN();
				}    
			})(i);
		}
	}
	 
	function setssidInput(){
		document.getElementsByName('ssidInput')[0].value = ssidInput;
	}
	
	function NetworkconnectRowClick() {
		var table = byId('networkconnect');
		var rows = table.rows; // or table.getElementsByTagName("tr");
		for (var i = 0; i < rows.length; i++) {
			rows[i].onclick = (function() { // closure
				var cnt = i; // save the counter to use in the function
				return function() {
				}    
			})(i);
		}
	}
	// -----------------------------------------------------------------------------------		
	function validateNumber(number,decimal) {
		val = number.value.replace(/[^0-9.,]/g,'').replace(/[,]/g, '.');
		switch(decimal) {
			case '1': 
				if(val){val = val.toString().match(/^-?\d+(?:\.\d{0,1})?/)[0];}
				break;
			case '2': 
				if(val){val = val.toString().match(/^-?\d+(?:\.\d{0,2})?/)[0];}
				break;
			case '3':
				if(val){val = val.toString().match(/^-?\d+(?:\.\d{0,3})?/)[0];}
				break;
			case '4':
				if(val){val = val.toString().match(/^-?\d+(?:\.\d{0,4})?/)[0];}
				break;
			default:
				if(val){val = val.toString().match(/^-?\d+(?:\.\d{0,1})?/)[0];}
		} 
		if(val.split('.').length>2){val = val.replace(/\.+$/,"");}		
		number.value = val;
	}
	// -----------------------------------------------------------------------------------		
	function showExtendedSettings(){
		hideAll();
		byId('extended_settings').style.display = "inline";
	}
	
	var clickTimer = null;
	function touchStart() {
		if (clickTimer == null) {
			clickTimer = setTimeout(function () {
				clickTimer = null;
			}, 500)
		} else {
			clearTimeout(clickTimer);
			clickTimer = null;
			showExtendedSettings();
		}
	}	
	// -----------------------------------------------------------------------------------	
	function restart(){
		txt = 'Nano neu starten?';
		if (confirm(txt) == true) {
			loadJSON('restart', '', '60000', function (response) {});
        }
	}

	function sethwversion(){
		txt = 'Wollen Sie die HW-Version auf v2 setzen?';
		if (confirm(txt) == true) {
			loadJSON('v2', '', '60000', function (response) {});
        }
	}
	// -----------------------------------------------------------------------------------		
	// convert UNIX timestamp
	// -----------------------------------------------------------------------------------	
	function timeConverter(UNIX_timestamp){
	  var a = new Date(UNIX_timestamp * 1000);
	  var months = ['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'];
	  var year = a.getFullYear();
	  var month = months[a.getMonth()];
	  var date = a.getDate();
	  var hour = a.getHours();
	  hour = ("0" + hour).slice(-2);
	  var min = a.getMinutes();
	  min = ("0" + min).slice(-2);
	  var sec = a.getSeconds();
	  sec = ("0" + sec).slice(-2);
	  var time = date + ' ' + month + ' ' + year + ' ' + hour + ':' + min + ':' + sec ;
	  //var unix = Math.round(+new Date()/1000);
	  //alert(unix + ' ' + UNIX_timestamp);
	  return time;
	}
	// -----------------------------------------------------------------------------------	
	function loadChartData(token){
		url = "http://cloud.wlanthermo.de/data2.php?api_token=" + token + "&chartHistory=true&callback=callback";
		$.ajax({
			url: url,
		 
			// The name of the callback parameter, as specified by the YQL service
			jsonp: "callback",
		 
			// Tell jQuery we're expecting JSONP
			dataType: "jsonp",
		 
			// Work with the response
			success: function( response ) {
				console.log(response);
				jr = JSON.parse(response);
				
				for (i = 0; i < jr.length -1; i++) {
					try {
						if(chart_ts != jr[i].system.time){
							addData(timeConverter(jr[i].system.time),jr[i],false);
							chart_ts = jr[i].system.time;
						}
					} catch(e) {
						//alert(e); // error in the above string (in this case, yes)!
					}			
				}
				chart_init = true;
				readTemp();
			}
		});	
	}   

	// Initialized Chart
	// -----------------------------------------------------------------------------------
	var chart_init = false;
	var nanoChart = false;
	var datasetValue = [];
	var cloud_token = false;
	var ch_name = new Array('#1', '#2', '#3', '#4', '#5', '#6', '#7', '#8','#9', '#10', '#11', '#12','#13', '#14', '#15', 'PIT set', 'PIT val');
	var unit = '';
	// Global chart config
	Chart.defaults.global.animationSteps = 50;
	Chart.defaults.global.tooltipYPadding = 16;
	Chart.defaults.global.tooltipCornerRadius = 0;
	Chart.defaults.global.defaultFontColor= 'white';
	Chart.defaults.global.tooltipTitleFontStyle = "normal";
	Chart.defaults.global.tooltips.mode = "index";
	Chart.defaults.global.tooltips.intersect = false;
	Chart.defaults.global.legend.labels.boxWidth = 15;
	Chart.defaults.global.animationEasing = "easeOutBounce";
	Chart.defaults.global.responsive = true;
	Chart.defaults.global.scaleFontSize = 16;
	
	var myContext = document.getElementById("nanoChart");
	var progress = document.getElementById('animationProgress');

	var chartOptions = {
		scales:{
			xAxes:[{
			type: 'time',
				time: {
				  displayFormats: {
					'millisecond': 'k:mm:ss',
					'second': 'k:mm:ss',
					'minute': 'k:mm',
					'hour': 'k:mm',
					'day': 'k:mm',
					'week': 'k:mm',
					'month': 'k:mm',
					'quarter': 'k:mm',
					'year': 'k:mm',
				  }
				},
				ticks:{
					autoSkip: true,
					maxTicksLimit: 10
				}
			}],
			yAxes:[{
					id: 'A',
					position: 'right',
					ticks:{
						userCallback: function(label, index, labels) {
							return label.toFixed(1) + '°' + unit;
						}
					}
				},{
					id: 'B',
					position: 'left',
					ticks:{
						min: 0,
						max: 100,
						userCallback: function(label, index, labels) {
							return label + '%';
						}
					}
				}
			]		
		},	
		tooltips: {
            enabled: true,
            callbacks: {
                label: function(tooltipItems, data) { 
					if(tooltipItems.datasetIndex == '9'){
						return tooltipItems.yLabel + '%' + ' - ' + ch_name[tooltipItems.datasetIndex];
					}else{
						return tooltipItems.yLabel + '°' + unit + ' - ' + ch_name[tooltipItems.datasetIndex];
					} 
                }
            }
        }};
			
	function addChartDataset(channels,token){
		for (var j = 0; j < channels; j++) {    
			datasetValue[j] = {
				label: '#' + (j+1),
				yAxisID: 'A',
				radius: 0,
				borderColor: 'white',
				data : []
			}
		}
		datasetValue.push({
			   label: 'PID set',
			   yAxisID: 'A',
			   radius: 0,
			   lineTension: 0,
			   borderColor: hexToRGB('#FF0000', 1),
			   borderDash: [10,5],
			   data: []
           },{
			   label: 'PID val',
			   yAxisID: 'B',
			   radius: 0,
			   lineTension: 0,
			   borderColor: hexToRGB('#000000', 0.2),
			   borderWidth: 1,
			   data: []
           });	
		myChartConfig = {
			type: 'line',
			data: {
				labels: [],
				datasets: datasetValue
			},
			options: chartOptions
		};		
		if(debug === true){console.log('Dataset RAW Data:' + myChartConfig);}
		nanoChart = new Chart(myContext, myChartConfig);   
		loadChartData(token);
	}	
 
	function addData(timestamp,jr,update){
		nanoChart.data.labels.push(timestamp);
		var i;
		for (i = 0; i < jr.channel.length; i++) {
			if(typeof jr.channel[i].temp !== "undefined"){
				nanoChart.data.datasets[i].borderColor = jr.channel[i].color;
				nanoChart.data.datasets[i].backgroundColor = jr.channel[i].color;
				nanoChart.data.datasets[i].fill = false;
				if (jr.channel[i].temp == '999'){
					nanoChart.data.datasets[i].data.push(null);
				}else{
					nanoChart.data.datasets[i].data.push(jr.channel[i].temp.toFixed(1) );
				}
			}else{
				nanoChart.data.datasets[i].data.push(null);
			}
		}
		nanoChart.data.datasets[i].fill = false;	
		if(typeof jr.pitmaster[0].typ !== "undefined" && typeof jr.pitmaster[0].set !== "undefined" && typeof jr.pitmaster[0].value !== "undefined"){
			if(jr.pitmaster[0].typ == 'off'){
				nanoChart.data.datasets[i].data.push(null);
				nanoChart.data.datasets[i+1].data.push(null);
			}else{
				nanoChart.data.datasets[i].data.push(jr.pitmaster[0].set);
				nanoChart.data.datasets[i+1].data.push(jr.pitmaster[0].value);
			}
		}else{
			nanoChart.data.datasets[i].data.push(null);
			nanoChart.data.datasets[i+1].data.push(null);
		}
		if(update === true){
			nanoChart.update();	
		}

	}
	// -----------------------------------------------------------------------------------		
	function setHelpBox(title,v){	
		byId('helpBoxTitle').innerHTML = title;
		document.getElementById("helpBoxObject").innerHTML = v;
		byId('helpBox').style.display= 'block';
	}
	// -----------------------------------------------------------------------------------	
	function hexToRGB(hex, alpha) {
		var r = parseInt(hex.slice(1, 3), 16),
			g = parseInt(hex.slice(3, 5), 16),
			b = parseInt(hex.slice(5, 7), 16);

		if (alpha) {
			return "rgba(" + r + ", " + g + ", " + b + ", " + alpha + ")";
		} else {
			return "rgb(" + r + ", " + g + ", " + b + ")";
		}
	}
	// -----------------------------------------------------------------------------------	
	//var lang="en"; // current language
	// translation data
	var langData = {
		de: {
			back: "Zurück",
			save: "Speichern"
		},
		en: {
			back: "Back",
			save: "Save"
		}
	};
	 
	// returns the translation for the given
	// language key (depending on the current language)
	function translate(key,lang) {
		if (langData.hasOwnProperty(lang)) {
			if (langData[lang].hasOwnProperty(key)) {
				return langData[lang][key];
			} else {
				console.log("Unknown language key: " + key);
				return "Undefined";
			}
		} else {
			console.log("Unknown language: " + lang);
			return "Undefined";
		}
	};
	 
	// translate all multi-lingual DOM elements
	function translateView(lang) {
		$(".lang").each(function() {
			var key = $(this).attr("data-lang");
	 
			$(this).text(translate(key,lang));
		});
	};

	function exportToCsv(filename, rows) {
        
		var processRow = function (time,row) {
            var finalVal = time + ',';
			
			for (var j = 0; j < row.channel.length; j++) {
                var innerValue = row.channel[j].temp === null || row.channel[j].temp === 999 ? '' : row.channel[j].temp.toString();        
                var result = innerValue.replace(/"/g, '""');
                if (result.search(/("|,|\n)/g) >= 0)
                    result = '"' + result + '"';
                if (j > 0)
                    finalVal += ',';
                finalVal += result;
            }
            return finalVal + '\n';
        };

        var csvFile = '';
 
		for (var i = 0; i < rows.length; i++) {
            csvFile += processRow(timeConverter(rows[i].system.time),rows[i]);
        }

        var blob = new Blob([csvFile], { type: 'text/csv;charset=utf-8;' });
        if (navigator.msSaveBlob) { // IE 10+
            navigator.msSaveBlob(blob, filename);
        } else {
            var link = document.createElement("a");
            if (link.download !== undefined) { // feature detection
                // Browsers that support HTML5 download attribute
                var url = URL.createObjectURL(blob);
                link.setAttribute("href", url);
                link.setAttribute("download", filename);
                link.style.visibility = 'hidden';
                document.body.appendChild(link);
                link.click();
                document.body.removeChild(link);
            }
        }
    }
    
	function createCSV(){
		console.log(cloud_token);
		url = "http://cloud.wlanthermo.de/data2.php?api_token=" + cloud_token + "&chartHistory=true&callback=callback";
		$.ajax({
			url: url,
		 
			// The name of the callback parameter, as specified by the YQL service
			jsonp: "callback",
		 
			// Tell jQuery we're expecting JSONP
			dataType: "jsonp",
		 
			// Work with the response
			success: function( response ) {
				jr = JSON.parse(response);
				exportToCsv('export.csv',jr);
			}
		});	
	}  
    

	readTemp();	
	
</script>

</body>
</html>
